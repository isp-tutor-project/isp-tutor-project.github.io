{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////home/ckot/projects/work/isptutorproject_website/common/navbar/index.js","webpack:////home/ckot/projects/work/isptutorproject_website/common/snackbar/index.js","webpack:////home/ckot/projects/work/isptutorproject_website/common/isp-database/database.js","webpack:////home/ckot/projects/work/isptutorproject_website/common/isp-database/localStorageDB.js","webpack:////home/ckot/projects/work/isptutorproject_website/common/isp-database/firestoreDB.js","webpack:///./data/homePageData.js","webpack:///./src/index.js","webpack:////home/ckot/projects/work/isptutorproject_website/common/isp-database/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","NavBar","this","el","document","querySelector","homeBtn","getElementById","activityTitle","glossaryBtn","glossaryPopup","signOutBtn","signInText","goHome","toggleGlossary","signOutUser","addEventListener","e","homePage","calcHomePage","redirectTo","classList","toggle","localStorage","getItem","window","location","origin","url","href","innerHTML","add","clear","title","innerText","toUpperCase","userName","remove","SnackBar","eleID","text","setTimeout","Database","classCode","userID","activityKey","decodeJSON","varName","super","setCredentials","console","count","data","Promise","all","getTextValue","getActivityData","getCurrHypoTask","getIntialHypoData","getFinalHypoData","then","ccRes","uidRes","rqRes","chtRes","ihRes","fhRes","rqted","currHypoTaskIdx","firstPrediction","initialHypo","secondPrediction","finalHypo","getJSONValue","JSON","stringify","saveJSONValue","retVal","moduleState","selectedArea","index","selectedTopic","selectedVariable","selectedRQ","catch","err","error","getIntValue","pred1","initHypo","pred2","overwrite","resolve","reject","items","setItem","undefined","parseInt","parseFloat","parse","firebaseConfig","apiKey","authDomain","projectId","firebase","initializeApp","store","firestore","userRef","collection","doc","exists","getUserData","userData","set","merge","update","FieldValue","delete","activities","label","phase","storageInfo","currentActivity","currentActivityFeatures","implemented","currentModule","getEleById","loginBtn","registerBtn","loginBackBtn","registerBackBtn","loginForm","loginSubmitBtn","registrationForm","registerSubmitBtn","activityBtnsList","activatePage","pageID","page","querySelectorAll","id","handleActivityHover","target","getAttribute","log","handleActivityClick","preventDefault","indexPage","displayUser","forEach","act","createElement","btn","type","startsWith","tmp","replace","endsWith","slice","setAttribute","appendChild","loginUser","debug","show","ensureLength2","fldName","length","parseUserForm","prefix","form","flds","fld","reportValidity","classcode","firstname","fname","lastname","lname","month","bmonth","day","bday","test","reset","msg","setValues","DB","homePageURL","dbType","db","getDBConnection","initApp"],"mappings":"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","file":"homepage.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","import \"./index.css\";\n\nexport class NavBar {\n    constructor() {\n        this.el = document.querySelector(\"nav.navbar\");\n        this.homeBtn = document.getElementById(\"navbar_home_btn\");\n        this.activityTitle = document.getElementById(\"activity_title\");\n        this.glossaryBtn = document.getElementById(\"navbar_glossary_btn\");\n        this.glossaryPopup = document.querySelector(\".navbar-glossary-popup\");\n        this.signOutBtn = document.getElementById(\"sign_out_button\");\n        this.signInText = document.getElementById(\"sign_in_text\");\n        this.goHome      = this.goHome.bind(this);\n        this.toggleGlossary = this.toggleGlossary.bind(this);\n        this.signOutUser = this.signOutUser.bind(this);\n        this.homeBtn.addEventListener('click', this.goHome);\n        this.glossaryBtn.addEventListener(\"click\", this.toggleGlossary);\n        this.signOutBtn.addEventListener(\"click\", this.signOutUser);\n    }\n\n    goHome(e) {\n        let homePage = this.calcHomePage();\n        this.redirectTo(homePage);\n    }\n\n    toggleGlossary(e) {\n        this.glossaryPopup.classList.toggle(\"hidden\");\n    }\n\n    calcHomePage() {\n        let homePage = localStorage.getItem(\"homepage\");\n        if (null === homePage) {\n            homePage = window.location.origin + \"/\";\n        }\n        return homePage;\n    }\n\n    redirectTo(url) {\n        // prevent refresh if already on this page\n        if (window.location.href !== url) {\n            window.location.href = url;\n        }\n    }\n\n    signOutUser(e) {\n        this.signInText.innerHTML = \"\";\n        this.signInText.classList.add(\"invisible\");\n        this.signOutBtn.classList.add(\"invisible\");\n        let homePage = this.calcHomePage();\n        // this does the actual signing out\n        localStorage.clear();\n        this.redirectTo(homePage);\n    }\n\n    displayActivityTitle(title) {\n        this.activityTitle.innerText = title.toUpperCase();\n    }\n\n\n    displayUser(userName) {\n        this.signInText.innerHTML = `Welcome, ${userName}`;\n        this.signInText.classList.remove(\"invisible\");\n        this.signOutBtn.classList.remove(\"invisible\");\n    }\n};\n","import \"./index.css\";\n\n\nexport class SnackBar {\n    constructor(eleID) {\n        this.el = document.getElementById(eleID || \"snackbar\");\n    }\n\n    show(text) {\n        if (typeof(text) !== \"undefined\" && null !== text) {\n            this.el.innerHTML = text;\n            // Add the \"show\" class to DIV\n            // this.el.className = \"show\";\n            this.el.classList.add(\"show\");\n            // After 3 seconds, remove the show class from DIV\n            setTimeout(() => {\n                // snackbar.className = snackbar.className.replace(\"show\", \"\");\n                this.el.classList.remove(\"show\");\n            }, 3000);\n        }\n    }\n}\n","// abstract class - interface\nexport class Database {\n    constructor() {\n\n    }\n\n    setCredentials(classCode, userID) {\n        this.classCode = classCode;\n        this.userID = userID;\n    }\n\n    getUserData() {\n\n    }\n\n    getActivityData(activityKey, decodeJSON = true) {\n\n    }\n\n    setActivityData(activityKey, object) {\n\n    }\n\n    getRQData() {\n\n    }\n\n    getCurrHypoTask() {\n\n    }\n\n    getInitialHypoData() {\n\n    }\n\n    getFinalHypoData() {\n\n    }\n\n    saveValue(varName, value) {\n\n    }\n\n    saveJSONValue(varName, object) {\n\n    }\n\n    getBoolValue(varName) {\n\n    }\n\n    getIntValue(varName) {\n\n    }\n\n    getFloatValue(varName) {\n\n    }\n\n    getTextValue(varName) {\n\n    }\n\n    getJSONValue(varName) {\n\n    }\n\n};\n\n\n","\nimport { Database } from \"./database\";\n\n// NOTE: this API must use promises to be compatible with any db\n// we may be using, which may be either sync or async\nexport class LocalStorageDB extends Database {\n\n    constructor() {\n        super();\n    }\n\n    setCredentials(classCode, userID) {\n        super.setCredentials(classCode, userID);\n        // return Promise.all([\n        // this.saveValue(\"classCode\", classCode),\n        // this.saveValue(\"userID\", userID),\n        // ]).then(([result1, result2]) => { });\n    }\n\n    getUserData() {\n        console.count(\"getUserData() called\");\n        let data = {};\n        return Promise.all([\n            this.getTextValue(\"classCode\"),\n            this.getTextValue(\"userID\"),\n            this.getActivityData(\"rqted\"),\n            this.getCurrHypoTask(),\n            this.getIntialHypoData(),\n            this.getFinalHypoData()\n        ]).then(([ccRes, uidRes, rqRes, chtRes, ihRes, fhRes]) => {\n            data.classCode = ccRes;\n            data.userID = uidRes;\n            data.rqted = rqRes;\n            if (chtRes) {\n                data.currHypoTaskIdx = chtRes\n            }\n            if (ihRes) {\n                data.firstPrediction = ihRes.firstPrediction;\n                data.initialHypo = ihRes.initialHypo;\n            }\n            if (fhRes) {\n                data.secondPrediction = fhRes.secondPrediction;\n                data.finalHypo = fhRes.finalHypo;\n            }\n            return data;\n        });\n    }\n\n    getActivityData(activityKey, decodeJSON = true) {\n        return this.getJSONValue(activityKey)\n        .then((data) => {\n            if (data && !decodeJSON) {\n                return JSON.stringify(data);\n            } else {\n                return data;\n            }\n        });\n    }\n\n    setActivityData(activityKey, object) {\n        return this.saveJSONValue(activityKey, object);\n    }\n\n    getRQData() {\n        let retVal = null;\n        return this.getActivityData(\"rqted\")\n        .then((rqted) => {\n            // console.log(rqted);\n            if (rqted) {\n                retVal = rqted;\n            } else {\n                // if the rq isn't selected hard-code to crystal growth\n                retVal = {\n                    moduleState: {\n                        selectedArea: { index: 1 },\n                        selectedTopic: { index: 1 },\n                        selectedVariable: { index: 1 },\n                        selectedRQ: { index: 1 }\n                    }\n                };\n            }\n            // console.log(retVal);\n            return retVal;\n        })\n        .catch((err) => {\n            console.error(err);\n            return retVal;\n        });\n    }\n\n    getCurrHypoTask() {\n        return this.getIntValue(\"currHypoTaskIdx\")\n    }\n\n    getIntialHypoData() {\n        let data = {};\n        return this.getTextValue(\"firstPrediction\")\n            .then((pred1) => {\n                // console.log(`getInitialHypoData():firstPrediction ${pred1}`);\n                if (null !== pred1) {\n                    data.firstPrediction = pred1;\n                    return this.getJSONValue(\"initialHypo\");\n                } else {\n                    data.firstPrediction = null;\n                    return null;\n                }\n            })\n            .then((initHypo) => {\n                // console.log(`getInitialHypoData():initHypo ${initHypo}`);\n                data.initialHypo = initHypo;\n                return data;\n            })\n            .catch((err) => {\n                console.error(err);\n                return data;\n            });\n    }\n\n    getFinalHypoData() {\n        let data = {};\n        return this.getTextValue(\"secondPrediction\")\n            .then((pred2) => {\n                // console.log(`getFinalHypoData():secondPrediction ${pred2}`)\n                if (null !== pred2) {\n                    data.secondPrediction = pred2;\n                    return this.getJSONValue(\"finalHypo\");\n                } else {\n                    data.secondPrediction = null;\n                    return null\n                }\n            })\n            .then((finalHypo) => {\n                // console.log(`getFinalHypoData():finalHypo ${finalHypo}`);\n                data.finalHypo = finalHypo;\n                return data;\n            })\n            .catch((err) => {\n                console.error(err);\n                return data;\n            });\n    }\n\n    setValues(object, overwrite=false) {\n        // overwrite param is ignored, as it is specific to firestore\n        return new Promise((resolve, reject) => {\n            try {\n                for (let [key, value] of Object.items(object)) {\n                    localStorage.setItem(key, value);\n                }\n                resolve(true);\n            } catch (error) {\n                reject(error);\n            }\n        });\n    }\n\n    saveValue(varName, value) {\n        return new Promise((resolve, reject) => {\n            try {\n                resolve(localStorage.setItem(varName, value));\n            } catch(err) {\n                reject(err);\n            }\n        })\n    }\n\n    saveJSONValue(varName, object) {\n        return new Promise((resolve, reject) => {\n            try {\n                let value = JSON.stringify(object);\n                resolve(localStorage.setItem(varName, value));\n            } catch(err) {\n                reject(err);\n            }\n        });\n    }\n\n    getBoolValue(varName) {\n        return new Promise((resolve, reject) => {\n            try {\n                let value = localStorage.getItem(varName);\n                if (undefined === value) {\n                    resolve(value);\n                }\n                if (\"true\" === value) {\n                    resolve(true);\n                } else {\n                    resolve(false);\n                }\n            } catch(err) {\n                reject(err);\n            }\n        });\n    }\n\n    getIntValue(varName) {\n        let retVal;\n        return new Promise((resolve, reject) => {\n            try {\n               let value = localStorage.getItem(varName);\n                if (value) {\n                    retVal = parseInt(value, 10);\n                }\n                resolve(retVal);\n            } catch(err) {\n                reject(err);\n            }\n        });\n    }\n\n    getFloatValue(varName) {\n        let retVal;\n        return new Promise((resolve, reject) => {\n            try {\n                let value = localStorage.getItem(varName);\n                if (value) {\n                    retVal = parseFloat(value);\n                }\n                resolve(retVal);\n            } catch(err) {\n                reject(err);\n            }\n        });\n    }\n\n    getTextValue(varName) {\n        let retVal;\n        return new Promise((resolve, reject) => {\n            try {\n                let value = localStorage.getItem(varName);\n                if (value) {\n                    retVal = value;\n                }\n                resolve(value);\n            } catch(err) {\n                reject(err);\n            }\n        });\n    };\n\n    getJSONValue(varName) {\n        return new Promise((resolve, reject) => {\n            try {\n                let value = localStorage.getItem(varName);\n                if (value) {\n                    value = JSON.parse(value);\n                }\n                resolve(value);\n            } catch(err) {\n                reject(err);\n            }\n        });\n    }\n};\n\n// let db = new Database(\"BOGUS_CLASS\", \"BOGUS_STUDENT\");\n\n","import { Database } from \"./database\";\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n    apiKey: \"AIzaSyD7zIk-8V20QqJNSs0cAV0uNL3qjeqLMdM\",\n    authDomain: \"isptutor.firebaseapp.com\",\n    projectId: \"isptutor\"\n};\n\nexport class FirestoreDB extends Database {\n\n    constructor() {\n        super();\n        firebase.initializeApp(firebaseConfig);\n        this.store = firebase.firestore();\n    }\n\n    setCredentials(classCode, userID) {\n        super.setCredentials(classCode, userID);\n        this.userRef = this.store.collection(this.classCode).doc(this.userID);\n    }\n\n    getUserData() {\n        // returns promise with 'doc' if it exists, null otherwise\n        return this.userRef.get()\n        .then((doc) => {\n            if (doc.exists) {\n                return doc.data;\n            } else {\n                return null;\n            }\n        });\n    }\n\n\n    getCurrHypoTask() {\n\n    }\n  \n    getActivityData(activityKey, decodeJSON=true) {\n        return this.getUserData()\n        .then((userData) => {\n            let data = userData[activityKey];\n            if (data && decodeJSON) {\n                return JSON.parse(data);\n            } else {\n                return data;\n            }\n        });\n    }\n\n    // getRQData() {\n    //     return this.getAppData(\"rqted\");\n    // }\n\n\n    // getInitialHypoData() {\n    //     return this.getAppData(\"initialHypo\")\n    //     .then((strData))\n    // }\n\n    // getFinalHypoData() {\n    //     return this.getAppData(\"finalHypo\")\n    // }\n\n    setValues(object, overwrite=false) {\n        // default to {merge: true} option for safety\n        return this.userRef.set(object, {merge: !overwrite});       \n    }\n\n    updateValues(object) {\n        return this.userRef.update(object);\n    }\n\n    deleteValue(varName) {\n        return this.userRef.update({\n            [varName]: firebase.firestore.FieldValue.delete()\n        });\n    }\n\n    // saveJSONValue(varName, value) {\n    //     return this.userRef.set({\n    //         [varName]: JSON.stringify(value)\n    //     });\n    // }\n\n    // getBoolValue(varName) {\n\n    // }\n\n    // getIntValue(varName) {\n\n    // }   \n    \n    // getFloatValue(varName) {\n\n    // }\n\n    // getTextValue(varName) {\n\n    // }\n\n    // getJSONValue(varName) {\n\n    // }\n};","export const activities = [\n    {\n        label: \"Science Attitudes - Initial\",\n        phase: \"pre-training\",\n        storageInfo: {\n            currentActivity: \"matsPreTest\",\n            currentActivityFeatures: \"FTR_WEB:FTR_PRE\"\n        },\n        url: \"\",\n        implemented: false\n    },\n    {\n        label: \"Data Interpretation Questions - Initial\",\n        phase: \"pre-training\",\n        storageInfo: {\n            currentActivity: \"diPreTest\",\n        },\n        url: \"/apps/di-prepost/pretest.html\",\n        implemented: true\n    },\n    {\n        label: \"See research question and trial run of experiment\",\n        phase: \"rqSelect\",\n        storageInfo: {\n            currentActivity: \"rqSelect\",\n            currentActivityFeatures: \"FTR_WEB:FTR_BASELINE:FTR_NCCRYSTAL\"\n        },\n        url: \"/edforge/rqSelect.html\",\n        implemented: false\n    },\n    {\n        label: \"Research Question Selection (No Choice Crystal)\",\n        phase: \"rqSelect\",\n        storageInfo: {\n            currentActivity: \"rqSelect\",\n            currentActivityFeatures: \"FTR_WEB:FTR_NOCHOICE:FTR_NCCRYSTAL\"\n        },\n        url: \"/edforge/rqSelect.html\",\n        implemented: false\n    },\n    {\n        label: \"Research Question Selection (Choice)\",\n        phase: \"rqSelect\",\n        storageInfo: {\n            currentModule: \"rqSelect\",\n            currentActivityFeatures: \"FTR_WEB:FTR_CHOICE\"\n        },\n        url: \"/edforge/rqSelect.html\",\n        implemented: false\n    },\n    {\n        label: \"Hypothesis (definition pages only)\",\n        phase: \"reference\",\n        storageInfo: {\n            currentActivity: \"hypoDefs\",\n            currentActivityFeatures: \"FTR_WEB:FTR_DEFS_ONLY\"\n        },\n        url: \"/apps/hypo-gr/\",\n        implemented: false\n    },\n    {\n        label: \"Hypothesis (Initial Hypo w/o CptMap)\",\n        phase: \"hypo\",\n        storageInfo: {\n            currentActivity: \"initialHypo\",\n            currentActivityFeatures: \"FTR_WEB:FTR_INITIAL_HYP:FTR_NOCPTMAP\"\n        },\n        url: \"/apps/hypo-gr/\",\n        implemented: false\n    },\n    {\n        label: \"Hypothesis (Initial Hypo with CptMap)\",\n        phase: \"hypo\",\n        storageInfo: {\n            currentActivity: \"initialHypo\",\n            currentActivityFeatures: \"FTR_WEB:FTR_INITIAL_HYP\"\n        },\n        url: \"/apps/hypo-gr/\",\n        implemented: false\n    },\n    {\n        label: \"Hypothesis (Initial Hypo Bi-Directional)\",\n        phase: \"hypo\",\n        storageInfo: {\n            currentActivity: \"initialHypo\",\n            currentActivityFeatures: \"FTR_WEB:FTR_INITIAL_HYP:FTR_BI_DIR\"\n        },\n        url: \"/apps/hypo-gr/\",\n        implemented: false\n    },\n    {\n        label: \"Hypothesis (final hypothesis)\",\n        phase: \"hypo\",\n        storageInfo: {\n            currentActivity: \"finalHypo\",\n            currentActivityFeatures: \"FTR_WEB:FTR_FINAL_HYP:FTR_NO_DEFS\"\n        },\n        url: \"/apps/hypo-gr/\",\n        implemented: false\n    },\n    {\n        label: \"Watch students talk about their hypotheses (one-directional)\",\n        phase: \"hypo\",\n        storageInfo: {\n            currentActivity: \"hypoWE\",\n            currentActivityFeatures: \"FTR_ONE_DIRECTIONAL\"\n        },\n        url: \"/apps/hypo-we/\",\n        implemented: true\n    },\n    {\n        label: \"Watch students talk about their hypotheses (bi-directional)\",\n        phase: \"hypo\",\n        storageInfo: {\n            currentActivity: \"hypoWE\",\n            currentActivityFeatures: \"FTR_BI_DIRECTIONAL\"\n        },\n        url: \"/apps/hypo-we/\",\n        implemented: true\n    },\n    {\n        label: \"Lesson on Data Interpretation\",\n        phase: \"data-interpretation\",\n        storageInfo: {\n            currentActivity: \"diInstruction\"\n        },\n        url: \"/apps/di-instr/\",\n        implemented: true\n    },\n    {\n        label: \"Interpret results on crystal growth\",\n        phase: \"post-training\",\n        storageInfo: {\n            currentActivity: \"diCrysGr\",\n        },\n        url: \"/apps/di-prepost/crystal.html\",\n        implemented: true\n    },\n    {\n        label: \"Science Attitudes - Final\",\n        phase: \"post-training\",\n        storageInfo: {\n            currentActivity: \"matsPostTest\",\n            currentActivityFeatures: \"FTR_WEB:FTR_POST\"\n        },\n        url: \"\",\n        implemented: false\n    },\n    {\n        label: \"Data Interpretation Questions - Final\",\n        phase: \"post-training\",\n        storageInfo: {\n            currentActivity: \"diPostTest\",\n        },\n        url: \"/apps/di-prepost/posttest.html\",\n        implemented: true\n    }\n];\n","import \"./styles/index.scss\";\n\nimport { NavBar } from \"@isptutorproject/navbar\";\nimport { SnackBar } from \"@isptutorproject/snackbar\";\nimport { getDBConnection } from \"@isptutorproject/isp-database\";\nimport { activities } from \"../data/homePageData\";\n\n\n// convenience function so I don't have to constantly type document.getElementById()\nfunction getEleById(eleID) {\n    return document.getElementById(eleID);\n}\n\nlet classCode, userID, db, navbar, snackbar;\n\n// page elements\nconst loginBtn          = getEleById(\"login_button\");\nconst registerBtn       = getEleById(\"register_button\");\nconst loginBackBtn      = getEleById(\"l-back-button\");\nconst registerBackBtn   = getEleById(\"r-back-button\");\nconst loginForm         = getEleById(\"login_form\");\nconst loginSubmitBtn    = getEleById(\"login_submit\");\nconst registrationForm  = getEleById(\"registration_form\");\nconst registerSubmitBtn = getEleById(\"registration_submit\");\n// const activityBtnsCntr  = getEleById(\"activity_btns_container\");\nconst activityBtnsList  = getEleById(\"activity_btns_list\");\n\nfunction activatePage(pageID) {\n    for (let page of document.querySelectorAll(\".page\")) {\n        if (page.id === pageID) {\n            page.classList.add(\"active\")\n        } else {\n            page.classList.remove(\"active\");\n        }\n    }\n}\n\nfunction getUserInfoFromLocalStorage() {\n    classCode = localStorage.getItem(\"classCode\");\n    userID = localStorage.getItem(\"userID\");\n}\n\n\nfunction handleActivityHover(e) {\n    // e.preventDefault();\n    let url = e.target.getAttribute(\"data-url\");\n    let currentActivity = e.target.getAttribute(\"data-activity\");\n    let currentActivityFeatures = e.target.getAttribute(\"data-activity-features\");\n    console.log(`\n    hovering over: ${e.target}\n    url: ${url}\n    currentActivity: ${currentActivity}\n    currentActivityFeatures: ${currentActivityFeatures}\n    `);\n}\n\nfunction handleActivityClick(e) {\n    e.preventDefault();\n    let url = e.target.getAttribute(\"data-url\");\n    let currentActivity = e.target.getAttribute(\"data-activity\");\n    let currentActivityFeatures = e.target.getAttribute(\"data-activity-features\");\n    localStorage.setItem(\"currentActivity\", currentActivity);\n    localStorage.setItem(\"currentActivityFeatures\", currentActivityFeatures);\n    window.location.href = url;\n}\n\nfunction indexPage(e) {\n    if (e) {\n        e.preventDefault();\n    }\n    activatePage(\"index_page\");\n}\n\nfunction registrationPage(e) {\n    if (e) {\n        e.preventDefault();\n    }\n    activatePage(\"registration_page\");\n    registrationForm.reset();\n}\n\nfunction loginPage(e) {\n    if (e) {\n        e.preventDefault();\n    }\n    activatePage(\"login_page\");\n    loginForm.reset();\n}\n\nfunction homePage(e) {\n    if (e) {\n        e.preventDefault();\n    }\n    activatePage(\"home_page\");\n    navbar.displayUser(userID);\n    // refresh activity btns\n    // activityBtnsCntr.innerHTML = \"\";\n    activityBtnsList.innerHTML = \"\";\n    activities.forEach((act) => {\n        if (act.implemented) {\n            // console.log(act);\n            let url;\n            // let p = document.createElement(\"p\");\n            let p = document.createElement(\"li\");\n            let btn = document.createElement(\"button\");\n            // if (!act.implemented) {\n            //     btn.classList.add(\"disabled\");\n            // }\n            btn.classList.add(\"activity-button\");\n            btn.classList.add(\"btn\");\n            btn.type = \"button\";\n            btn.innerHTML = act.label;\n            if (act.url.startsWith(\"http\")) {\n                url = act.url;\n            } else {\n                // homepage url can be at a random path, and may end with index.html\n                // localstorage retains all of this so we can simply redirect back.\n                // strip off index.html and/or trailing slash if exist and append\n                // relative path\n                let tmp = localStorage.getItem(\"homepage\");\n                tmp = tmp.replace(\"index.html\", \"\");\n                if (tmp.endsWith(\"/\")) {\n                    tmp = tmp.slice(0, -1);\n                }\n                url = `${tmp}${act.url}`;\n            }\n            btn.setAttribute(\"data-activity-features\", act.storageInfo.currentActivityFeatures || \"\");\n            btn.setAttribute(\"data-activity\", act.storageInfo.currentActivity);\n            btn.setAttribute(\"data-url\", url);\n            btn.addEventListener(\"click\", handleActivityClick);\n            // for debugging\n            btn.addEventListener(\"mouseover\", handleActivityHover);\n            p.appendChild(btn);\n            // activityBtnsCntr.appendChild(p);\n            activityBtnsList.appendChild(p);\n        }\n    });\n}\n\nfunction loginUser() {\n    console.debug(\"Account found\");\n    snackbar.show(\"Signed in as \" + userID + \".\");\n    homePage();\n}\n\n// =============================================================================\n// ======================= userForm related functions ==========================\n// =============================================================================\n\nfunction isValidInput(input) {\n    let regex = /^[A-Za-z]+$/\n    if (regex.test(input)) {\n        return true;\n    }\n    else {\n        snackbar.show(\"Please do not enter any numbers, spaces, or special characters in your input.\");\n        return false;\n    }\n}\n\nfunction ensureLength2(value, fldName) {\n    if (value.length !== 2) {\n        snackbar.show(`Please enter exactly two letters for your ${fldName}`)\n        return false;\n    }\n    return true;\n}\n\n// simple parameterized wrapper which handles the otherwise duplicate login and\n// registration form parsing.\nfunction parseUserForm(prefix, form) {\n    let fldNames = ['classcode', 'fname', 'lname', 'bmonth', 'bday'];\n    // create a map of fldNames to prefixed ('r-' or 's-') field names\n    let flds = {};\n    fldNames.forEach((fld) => flds[fld] = `${prefix}_${fld}`);\n    if (!form.reportValidity()) {\n        return false;\n    }\n    classCode = getEleById(flds.classcode).value.toUpperCase();\n    let firstname = getEleById(flds.fname).value;\n    let lastname = getEleById(flds.lname).value;\n    let month = getEleById(flds.bmonth).value;\n    let day = getEleById(flds.bday).value;\n    if (!ensureLength2(firstname, \"first name\")) {\n        return false;\n    }\n    if (!ensureLength2(lastname, \"last name\")) {\n        return false;\n    }\n    userID = firstname + lastname;\n    if (!isValidInput(userID)) {\n        return false;\n    }\n    userID += '_' + month + '_' + day;\n    userID = userID.toUpperCase();\n    // save classCode and uid so BRM can connect to firebase\n    localStorage.setItem(\"classCode\", classCode);\n    localStorage.setItem(\"userID\", userID);\n    return true;\n}\n\n// =============================================================================\n// ================================= Event Listeners ===========================\n// =============================================================================\n\n// signOutBtn.addEventListener(\"click\", logoutUser);\n\nloginBtn.addEventListener(\"click\", loginPage);\nregisterBtn.addEventListener(\"click\", registrationPage);\nloginBackBtn.addEventListener(\"click\", indexPage);\nregisterBackBtn.addEventListener(\"click\", indexPage);\n\n\nloginSubmitBtn.addEventListener(\"click\", e => {\n    e.preventDefault();\n    if (parseUserForm(\"login\", loginForm)) {\n        db.setCredentials(classCode, userID);\n        db.getUserData()\n        .then((userData) => {\n            if (userData) {\n                loginUser();\n            } else {\n                console.error(\"No such account!\");\n                snackbar.show(\"No such account exists. Check that your name and birthday were typed in correctly.\")\n            }\n        }).catch(function (error) {\n            console.log(\"Error getting account:\", error);\n            snackbar.show(\"No such account exists. Check that you typed in the classcode correctly.\")\n        });\n    }\n});\n\nregisterSubmitBtn.addEventListener(\"click\", e => {\n    e.preventDefault();\n    if (parseUserForm(\"register\", registrationForm)) {\n        db.setCredentials(classCode, userID);\n        db.getUserData()\n        .then((userData) => {\n            if (userData) {\n                let msg = \"Account already exists.\";\n                console.error(msg);\n                snackbar.show(msg);\n            } else {\n                console.debug(\"Creating account\");\n                // add some fields to account object\n                db.setValues({\n                    classCode: classCode,\n                    userID: userID\n                })\n                .then(function () {\n                    console.debug(\"Document successfully written!\");\n                    loginUser();\n                })\n                .catch(function (error) {\n                    let msg = \"Error creating new account.\";\n                    console.error(msg, error);\n                    snackbar.show(msg);\n                });\n            }\n        }).catch(function (error) {\n            console.error(\"Error getting account:\", error);\n            snackbar.show(\"Cannot create account. Please make sure that class code is correct.\");\n        });\n    }\n});\n\nfunction initApp() {\n    navbar = new NavBar();\n    snackbar = new SnackBar();\n    // navbar.displayActivityTitle(\"ISP Home Page\");\n    let DB = \"localstorage\";\n    let homePageURL = window.location.href;\n    localStorage.setItem(\"homepage\", homePageURL);\n    localStorage.setItem(\"database\", DB);\n    db = getDBConnection(DB);\n    getUserInfoFromLocalStorage();\n    if (classCode && userID) {\n        homePage();\n    } else {\n        indexPage();\n    }\n}\n\ninitApp();","import { LocalStorageDB } from \"./localStorageDB\";\nimport { FirestoreDB } from \"./firestoreDB\";\n\nexport function getDBConnection(dbType) {\n    let db;\n    switch(dbType) {\n        case \"firestore\":\n            db = new FirestoreDB();\n            break;\n        default:\n            db = new LocalStorageDB();\n    }\n    return db; \n}\n"],"sourceRoot":""}