{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////home/ckot/projects/work/isptutorproject_website/common/isp-database/database.js","webpack:////home/ckot/projects/work/isptutorproject_website/common/isp-database/localStorageDB.js","webpack:////home/ckot/projects/work/isptutorproject_website/common/isp-database/firestoreDB.js","webpack:///./data/homePageData.js","webpack:///./src/index.js","webpack:////home/ckot/projects/work/isptutorproject_website/common/navbar/index.js","webpack:////home/ckot/projects/work/isptutorproject_website/common/snackbar/index.js","webpack:////home/ckot/projects/work/isptutorproject_website/common/isp-database/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Database","classCode","userID","this","activityKey","decodeJSON","varName","super","setCredentials","console","count","data","Promise","all","getTextValue","getActivityData","getCurrHypoTask","getIntialHypoData","getFinalHypoData","then","ccRes","uidRes","rqRes","chtRes","ihRes","fhRes","rqted","currHypoTaskIdx","firstPrediction","initialHypo","secondPrediction","finalHypo","getJSONValue","JSON","parse","retVal","moduleState","selectedArea","index","selectedTopic","selectedVariable","selectedRQ","catch","err","error","getIntValue","pred1","initHypo","pred2","overwrite","resolve","reject","items","localStorage","setItem","stringify","getItem","undefined","parseInt","parseFloat","firebaseConfig","apiKey","authDomain","projectId","firebase","initializeApp","store","firestore","userRef","collection","doc","exists","getUserData","userData","set","merge","update","FieldValue","delete","activities","label","phase","storageInfo","currentActivity","url","implemented","currentActivityFeatures","currentModule","getEleById","eleID","document","getElementById","activatePage","pageID","page","querySelectorAll","id","classList","add","remove","handleActivityHover","e","target","getAttribute","log","handleActivityClick","preventDefault","window","location","href","indexPage","homePage","displayUser","activityBtnsCntr","innerHTML","forEach","act","createElement","btn","type","startsWith","tmp","replace","endsWith","slice","setAttribute","addEventListener","appendChild","el","querySelector","userInfoRegion","activityTitle","activitySection","signOutBtn","signInText","signOutUser","origin","clear","title","innerText","section","userName","text","setTimeout","loginBtn","loginBackBtn","loginForm","loginSubmitBtn","registerBtn","registerBackBtn","registrationForm","registerSubmitBtn","ensureLength2","fldName","length","show","parseUserForm","prefix","form","flds","fld","reportValidity","classcode","toUpperCase","firstname","fname","lastname","lname","month","bmonth","day","bday","test","reset","db","setValues","dbType","getDBConnection","initApp"],"mappings":"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","file":"homepage.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","// abstract class - interface\nexport class Database {\n    constructor() {\n\n    }\n\n    setCredentials(classCode, userID) {\n        this.classCode = classCode;\n        this.userID = userID;\n    }\n\n    getUserData() {\n\n    }\n\n    getActivityData(activityKey, decodeJSON = true) {\n\n    }\n    \n    getRQData() {\n\n    }   \n\n    getCurrHypoTask() {\n\n    }\n\n    getInitialHypoData() {\n\n    }\n\n    getFinalHypoData() {\n\n    }\n\n    saveValue(varName, value) {\n\n    }\n\n    saveJSONValue(varName, object) {\n\n    }\n\n    getBoolValue(varName) {\n\n    }\n\n    getIntValue(varName) {\n\n    }\n\n    getFloatValue(varName) {\n\n    }\n\n    getTextValue(varName) {\n\n    }\n\n    getJSONValue(varName) {\n\n    }\n\n};\n\n\n","\nimport { Database } from \"./database\";\n\n// NOTE: this API must use promises to be compatible with any db\n// we may be using, which may be either sync or async\nexport class LocalStorageDB extends Database {\n\n    constructor() {\n        super();\n    }\n\n    setCredentials(classCode, userID) {\n        super.setCredentials(classCode, userID);\n        // return Promise.all([\n        // this.saveValue(\"classCode\", classCode),\n        // this.saveValue(\"userID\", userID),\n        // ]).then(([result1, result2]) => { });\n    }\n\n    getUserData() {\n        console.count(\"getUserData() called\");\n        let data = {};\n        return Promise.all([\n            this.getTextValue(\"classCode\"),\n            this.getTextValue(\"userID\"),\n            this.getActivityData(\"rqted\"),\n            this.getCurrHypoTask(),\n            this.getIntialHypoData(),\n            this.getFinalHypoData()\n        ]).then(([ccRes, uidRes, rqRes, chtRes, ihRes, fhRes]) => {\n            data.classCode = ccRes;\n            data.userID = uidRes;\n            data.rqted = rqRes;\n            if (chtRes) {\n                data.currHypoTaskIdx = chtRes\n            }\n            if (ihRes) {\n                data.firstPrediction = ihRes.firstPrediction;\n                data.initialHypo = ihRes.initialHypo;\n            }\n            if (fhRes) {\n                data.secondPrediction = fhRes.secondPrediction;\n                data.finalHypo = fhRes.finalHypo;\n            }\n            return data;\n        });\n    }\n\n    getActivityData(activityKey, decodeJSON = true) {\n        return this.getJSONValue(activityKey)\n        .then((data) => {\n            if (data && decodeJSON) {\n                return JSON.parse(data);\n            } else {\n                return data;\n            }\n        });\n    }\n\n    getRQData() {\n        let retVal = null;\n        return this.getActivityData(\"rqted\")\n        .then((rqted) => {\n            // console.log(rqted);\n            if (rqted) {\n                retVal = rqted;\n            } else {\n                // if the rq isn't selected hard-code to crystal growth\n                retVal = {\n                    moduleState: {\n                        selectedArea: { index: 1 },\n                        selectedTopic: { index: 1 },\n                        selectedVariable: { index: 1 },\n                        selectedRQ: { index: 1 }\n                    }\n                };\n            }\n            // console.log(retVal);\n            return retVal;\n        })\n        .catch((err) => {\n            console.error(err);\n            return retVal;\n        });\n    }\n\n    getCurrHypoTask() {\n        return this.getIntValue(\"currHypoTaskIdx\")\n    }\n\n    getIntialHypoData() {\n        let data = {};\n        return this.getTextValue(\"firstPrediction\")\n            .then((pred1) => {\n                // console.log(`getInitialHypoData():firstPrediction ${pred1}`);\n                if (null !== pred1) {\n                    data.firstPrediction = pred1;\n                    return this.getJSONValue(\"initialHypo\");\n                } else {\n                    data.firstPrediction = null;\n                    return null;\n                }\n            })\n            .then((initHypo) => {\n                // console.log(`getInitialHypoData():initHypo ${initHypo}`);\n                data.initialHypo = initHypo;\n                return data;\n            })\n            .catch((err) => {\n                console.error(err);\n                return data;\n            });\n    }\n\n    getFinalHypoData() {\n        let data = {};\n        return this.getTextValue(\"secondPrediction\")\n            .then((pred2) => {\n                // console.log(`getFinalHypoData():secondPrediction ${pred2}`)\n                if (null !== pred2) {\n                    data.secondPrediction = pred2;\n                    return this.getJSONValue(\"finalHypo\");\n                } else {\n                    data.secondPrediction = null;\n                    return null\n                }\n            })\n            .then((finalHypo) => {\n                // console.log(`getFinalHypoData():finalHypo ${finalHypo}`);\n                data.finalHypo = finalHypo;\n                return data;\n            })\n            .catch((err) => {\n                console.error(err);\n                return data;\n            });\n    }\n\n    setValues(object, overwrite=false) {\n        // overwrite param is ignored, as it is specific to firestore\n        return new Promise((resolve, reject) => {\n            try {\n                for (let [key, value] of Object.items(object)) {\n                    localStorage.setItem(key, value);\n                }\n                resolve(true);\n            } catch (error) {\n                reject(error);\n            }\n        });\n    }\n\n    saveValue(varName, value) {\n        return new Promise((resolve, reject) => {\n            try {\n                resolve(localStorage.setItem(varName, value));\n            } catch(err) {\n                reject(err);\n            }\n        })\n    }\n\n    saveJSONValue(varName, object) {\n        return new Promise((resolve, reject) => {\n            try {\n                let value = JSON.stringify(object);\n                resolve(localStorage.setItem(varName, value));\n            } catch(err) {\n                reject(err);\n            }\n        });\n    }\n\n    getBoolValue(varName) {\n        return new Promise((resolve, reject) => {\n            try {\n                let value = localStorage.getItem(varName);\n                if (undefined === value) {\n                    resolve(value);\n                }\n                if (\"true\" === value) {\n                    resolve(true);\n                } else {\n                    resolve(false);\n                }\n            } catch(err) {\n                reject(err);\n            }\n        });\n    }\n\n    getIntValue(varName) {\n        let retVal;\n        return new Promise((resolve, reject) => {\n            try {\n               let value = localStorage.getItem(varName);\n                if (value) {\n                    retVal = parseInt(value, 10);\n                }\n                resolve(retVal);\n            } catch(err) {\n                reject(err);\n            }\n        });\n    }\n\n    getFloatValue(varName) {\n        let retVal;\n        return new Promise((resolve, reject) => {\n            try {\n                let value = localStorage.getItem(varName);\n                if (value) {\n                    retVal = parseFloat(value);\n                }\n                resolve(retVal);\n            } catch(err) {\n                reject(err);\n            }\n        });\n    }\n\n    getTextValue(varName) {\n        let retVal;\n        return new Promise((resolve, reject) => {\n            try {\n                let value = localStorage.getItem(varName);\n                if (value) {\n                    retVal = value;\n                }\n                resolve(value);\n            } catch(err) {\n                reject(err);\n            }\n        });\n    };\n\n    getJSONValue(varName) {\n        return new Promise((resolve, reject) => {\n            try {\n                let value = localStorage.getItem(varName);\n                if (value) {\n                    value = JSON.parse(value);\n                }\n                resolve(value);\n            } catch(err) {\n                reject(err);\n            }\n        });\n    }\n};\n\n// let db = new Database(\"BOGUS_CLASS\", \"BOGUS_STUDENT\");\n\n","import { Database } from \"./database\";\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n    apiKey: \"AIzaSyD7zIk-8V20QqJNSs0cAV0uNL3qjeqLMdM\",\n    authDomain: \"isptutor.firebaseapp.com\",\n    projectId: \"isptutor\"\n};\n\nexport class FirestoreDB extends Database {\n\n    constructor() {\n        super();\n        firebase.initializeApp(firebaseConfig);\n        this.store = firebase.firestore();\n    }\n\n    setCredentials(classCode, userID) {\n        super.setCredentials(classCode, userID);\n        this.userRef = this.store.collection(this.classCode).doc(this.userID);\n    }\n\n    getUserData() {\n        // returns promise with 'doc' if it exists, null otherwise\n        return this.userRef.get()\n        .then((doc) => {\n            if (doc.exists) {\n                return doc.data;\n            } else {\n                return null;\n            }\n        });\n    }\n\n\n    getCurrHypoTask() {\n\n    }\n  \n    getActivityData(activityKey, decodeJSON=true) {\n        return this.getUserData()\n        .then((userData) => {\n            let data = userData[activityKey];\n            if (data && decodeJSON) {\n                return JSON.parse(data);\n            } else {\n                return data;\n            }\n        });\n    }\n\n    // getRQData() {\n    //     return this.getAppData(\"rqted\");\n    // }\n\n\n    // getInitialHypoData() {\n    //     return this.getAppData(\"initialHypo\")\n    //     .then((strData))\n    // }\n\n    // getFinalHypoData() {\n    //     return this.getAppData(\"finalHypo\")\n    // }\n\n    setValues(object, overwrite=false) {\n        // default to {merge: true} option for safety\n        return this.userRef.set(object, {merge: !overwrite});       \n    }\n\n    updateValues(object) {\n        return this.userRef.update(object);\n    }\n\n    deleteValue(varName) {\n        return this.userRef.update({\n            [varName]: firebase.firestore.FieldValue.delete()\n        });\n    }\n\n    // saveJSONValue(varName, value) {\n    //     return this.userRef.set({\n    //         [varName]: JSON.stringify(value)\n    //     });\n    // }\n\n    // getBoolValue(varName) {\n\n    // }\n\n    // getIntValue(varName) {\n\n    // }   \n    \n    // getFloatValue(varName) {\n\n    // }\n\n    // getTextValue(varName) {\n\n    // }\n\n    // getJSONValue(varName) {\n\n    // }\n};","export const activities = [\n    {\n        label: \"Data Interpretation PreTest\",\n        phase: \"pre-training\",\n        storageInfo: {\n            currentActivity: \"diPreTest\",\n        },\n        url: \"/apps/di-prepost/pretest.html\",\n        implemented: true\n    },\n    {\n        label: \"Research Question Selection (Baseline)\",\n        phase: \"rqSelect\",\n        storageInfo: {\n            currentActivity: \"rqSelect\",\n            currentActivityFeatures: \"FTR_WEB:FTR_BASELINE:FTR_NCPLANTS\"\n        },\n        url: \"/tutors/rqSelect.html\",\n        implemented: false\n    },\n    {\n        label: \"Research Question Selection (No Choice Crystal)\",\n        phase: \"rqSelect\",\n        storageInfo: {\n            currentActivity: \"rqSelect\",\n            currentActivityFeatures: \"FTR_WEB:FTR_NOCHOICE:FTR_NCCRYSTAL\"\n        },\n        url: \"/tutors/rqSelect.html\",\n        implemented: false\n    },\n    {\n        label: \"Research Question Selection (Choice)\",\n        phase: \"rqSelect\",\n        storageInfo: {\n            currentModule: \"rqSelect\",\n            currentActivityFeatures: \"FTR_WEB:FTR_CHOICE\"\n        },\n        url: \"/tutors/rqSelect.html\",\n        implemented: false\n    },\n    {\n        label: \"Hypothesis (definition pages only)\",\n        phase: \"reference\",\n        storageInfo: {\n            currentActivity: \"hypoDefs\",\n            currentActivityFeatures: \"FTR_WEB:FTR_DEFS_ONLY\"\n        },\n        url: \"/apps/hypo-gr/\",\n        implemented: false\n    },\n    {\n        label: \"Hypothesis (Initial Hypo w/o CptMap)\",\n        phase: \"hypo\",\n        storageInfo: {\n            currentActivity: \"initialHypo\",\n            currentActivityFeatures: \"FTR_WEB:FTR_INITIAL_HYP:FTR_NOCPTMAP\"\n        },\n        url: \"/apps/hypo-gr/\",\n        implemented: false\n    },\n    {\n        label: \"Hypothesis (Initial Hypo with CptMap)\",\n        phase: \"hypo\",\n        storageInfo: {\n            currentActivity: \"initialHypo\",\n            currentActivityFeatures: \"FTR_WEB:FTR_INITIAL_HYP\"\n        },\n        url: \"/apps/hypo-gr/\",\n        implemented: false\n    },\n    {\n        label: \"Hypothesis (Initial Hypo Bi-Directional)\",\n        phase: \"hypo\",\n        storageInfo: {\n            currentActivity: \"initialHypo\",\n            currentActivityFeatures: \"FTR_WEB:FTR_INITIAL_HYP:FTR_BI_DIR\"\n        },\n        url: \"/apps/hypo-gr/\",\n        implemented: false\n    },\n    {\n        label: \"Hypothesis (final hypothesis)\",\n        phase: \"hypo\",\n        storageInfo: {\n            currentActivity: \"finalHypo\",\n            currentActivityFeatures: \"FTR_WEB:FTR_FINAL_HYP:FTR_NO_DEFS\"\n        },\n        url: \"/apps/hypo-gr/\",\n        implemented: false\n    },\n    {\n        label: \"Hypothesis WE (one-directional)\",\n        phase: \"hypo\",\n        storageInfo: {\n            currentActivity: \"hypoWE\",\n            currentActivityFeatures: \"FTR_ONE_DIRECTIONAL\"\n        },\n        url: \"/apps/hypo-we/\",\n        implemented: false\n    },\n    {\n        label: \"Hypothesis WE (bi-directional)\",\n        phase: \"hypo\",\n        storageInfo: {\n            currentActivity: \"hypoWE\",\n            currentActivityFeatures: \"FTR_BI_DIRECTIONAL\"\n        },\n        url: \"/apps/hypo-we/\",\n        implemented: false\n    },\n    {\n        label: \"Data Interpretation Instruction\",\n        phase: \"data-interpretation\",\n        storageInfo: {\n            currentActivity: \"diInstruction\"\n        },\n        url: \"/apps/di-instr/\",\n        implemented: true\n    },\n    {\n        label: \"Data Interpretation PostTest\",\n        phase: \"post-training\",\n        storageInfo: {\n            currentActivity: \"diPostTest\",\n        },\n        url: \"/apps/di-prepost/posttest.html\",\n        implemented: true\n    }\n];\n","import \"./styles/index.scss\";\n\nimport { NavBar } from \"@isptutorproject/navbar\";\nimport { SnackBar } from \"@isptutorproject/snackbar\";\nimport { getDBConnection } from \"@isptutorproject/isp-database\";\nimport { activities } from \"../data/homePageData\";\n\n\n// convenience function so I don't have to constantly type document.getElementById()\nfunction getEleById(eleID) {\n    return document.getElementById(eleID);\n}\n\nfunction activatePage(pageID) {\n    for (let page of document.querySelectorAll(\".page\")) {\n        if (page.id === pageID) {\n            page.classList.add(\"active\")\n        } else {\n            page.classList.remove(\"active\");\n        }\n    }\n}\n\nfunction getUserInfoFromLocalStorage() {\n    classCode = localStorage.getItem(\"classCode\");\n    userID = localStorage.getItem(\"userID\");\n}\n\n// function removeUserInfoFromLocalStorage() {\n//     localStorage.removeItem(\"classCode\");\n//     localStorage.removeItem(\"userID\");\n//     // reset collectionID and user ID vars to undefined\n//     getUserInfoFromLocalStorage();\n// }\n\n// function logoutUser() {\n//     removeUserInfoFromLocalStorage();\n//     indexPage();\n// }\n\nfunction handleActivityHover(e) {\n    // e.preventDefault();\n    let url = e.target.getAttribute(\"data-url\");\n    let currentActivity = e.target.getAttribute(\"data-activity\");\n    let currentActivityFeatures = e.target.getAttribute(\"data-activity-features\");\n    console.log(`\n    hovering over: ${e.target}\n    url: ${url}\n    currentActivity: ${currentActivity}\n    currentActivityFeatures: ${currentActivityFeatures}\n    `);\n}\n\nfunction handleActivityClick(e) {\n    e.preventDefault();\n    let url = e.target.getAttribute(\"data-url\");\n    let currentActivity = e.target.getAttribute(\"data-activity\");\n    let currentActivityFeatures = e.target.getAttribute(\"data-activity-features\");\n    localStorage.setItem(\"currentActivity\", currentActivity);\n    localStorage.setItem(\"currentActivityFeatures\", currentActivityFeatures);\n    window.location.href = url;\n}\n\nfunction indexPage(e) {\n    if (e) {\n        e.preventDefault();\n    }\n    activatePage(\"index_page\");\n}\n\nfunction registrationPage(e) {\n    if (e) {\n        e.preventDefault();\n    }\n    activatePage(\"registration_page\");\n    registrationForm.reset();\n}\n\nfunction loginPage(e) {\n    if (e) {\n        e.preventDefault();\n    }\n    activatePage(\"login_page\");\n    loginForm.reset();\n}\n\nfunction homePage(e) {\n    if (e) {\n        e.preventDefault();\n    }\n    activatePage(\"home_page\");\n    navbar.displayUser(userID);\n    // refresh activity btns\n    activityBtnsCntr.innerHTML = \"\";\n    activities.forEach((act) => {\n        if (act.implemented) {\n            // console.log(act);\n            let url;\n            let p = document.createElement(\"p\");\n            let btn = document.createElement(\"button\");\n            // if (!act.implemented) {\n            //     btn.classList.add(\"disabled\");\n            // }\n            btn.classList.add(\"activity-button\");\n            btn.classList.add(\"btn\");\n            btn.type = \"button\";\n            btn.innerHTML = act.label;\n            if (act.url.startsWith(\"http\")) {\n                url = act.url;\n            } else {\n                // homepage url can be at a random path, and may end with index.html\n                // localstorage retains all of this so we can simply redirect back.\n                // strip off index.html and/or trailing slash if exist and append\n                // relative path\n                let tmp = localStorage.getItem(\"homepage\");\n                tmp = tmp.replace(\"index.html\", \"\");\n                if (tmp.endsWith(\"/\")) {\n                    tmp = tmp.slice(0, -1);\n                }\n                url = `${tmp}${act.url}`;\n            }\n            btn.setAttribute(\"data-activity-features\", act.storageInfo.currentActivityFeatures || \"\");\n            btn.setAttribute(\"data-activity\", act.storageInfo.currentActivity);\n            btn.setAttribute(\"data-url\", url);\n            btn.addEventListener(\"click\", handleActivityClick);\n            // for debugging\n            btn.addEventListener(\"mouseover\", handleActivityHover);\n            p.appendChild(btn);\n            activityBtnsCntr.appendChild(p);\n        }\n    });\n}\n\nlet classCode;\nlet userID;\n\nconst navbar = new NavBar();\nconst snackbar = new SnackBar();\n\nconst loginBtn = getEleById(\"login_button\");\nconst loginBackBtn = getEleById(\"l-back-button\");\nconst loginForm = getEleById(\"login_form\");\nconst loginSubmitBtn = getEleById(\"login_submit\");\n\nconst registerBtn = getEleById(\"register_button\");\nconst registerBackBtn = getEleById(\"r-back-button\");\nconst registrationForm = getEleById(\"registration_form\");\nconst registerSubmitBtn = getEleById(\"registration_submit\");\n\nconst activityBtnsCntr = getEleById(\"activity_btns_container\");\n\n// =============================================================================\n// ======================= userForm related functions ==========================\n// =============================================================================\n\nfunction isValidInput(input) {\n    let regex = /^[A-Za-z]+$/\n    if (regex.test(input)) {\n        return true;\n    }\n    else {\n        snackbar.show(\"Please do not enter any numbers, spaces, or special characters in your input.\");\n        return false;\n    }\n}\n\nfunction ensureLength2(value, fldName) {\n    if (value.length !== 2) {\n        snackbar.show(`Please enter exactly two letters for your ${fldName}`)\n        return false;\n    }\n    return true;\n}\n\n// simple parameterized wrapper which handles the otherwise duplicate login and\n// registration form parsing.\nfunction parseUserForm(prefix, form) {\n    let fldNames = ['classcode', 'fname', 'lname', 'bmonth', 'bday'];\n    // create a map of fldNames to prefixed ('r-' or 's-') field names\n    let flds = {};\n    fldNames.forEach((fld) => flds[fld] = `${prefix}_${fld}`);\n    if (!form.reportValidity()) {\n        return false;\n    }\n    classCode = getEleById(flds.classcode).value.toUpperCase();\n    let firstname = getEleById(flds.fname).value;\n    let lastname = getEleById(flds.lname).value;\n    let month = getEleById(flds.bmonth).value;\n    let day = getEleById(flds.bday).value;\n    if (!ensureLength2(firstname, \"first name\")) {\n        return false;\n    }\n    if (!ensureLength2(lastname, \"last name\")) {\n        return false;\n    }\n    userID = firstname + lastname;\n    if (!isValidInput(userID)) {\n        return false;\n    }\n    userID += '_' + month + '_' + day;\n    userID = userID.toUpperCase();\n    // save classCode and uid so BRM can connect to firebase\n    localStorage.setItem(\"classCode\", classCode);\n    localStorage.setItem(\"userID\", userID);\n    return true;\n}\n\n// =============================================================================\n// ================================= Event Listeners ===========================\n// =============================================================================\n\n// signOutBtn.addEventListener(\"click\", logoutUser);\n\nloginBtn.addEventListener(\"click\", loginPage);\nregisterBtn.addEventListener(\"click\", registrationPage);\nloginBackBtn.addEventListener(\"click\", indexPage);\nregisterBackBtn.addEventListener(\"click\", indexPage);\n\n\nloginSubmitBtn.addEventListener(\"click\", e => {\n    e.preventDefault();\n    if (parseUserForm(\"login\", loginForm)) {\n        db.setCredentials(classCode, userID);\n        db.getUserData()\n        .then((userData) => {\n            if (userData) {\n                console.log(\"Account found\");\n                snackbar.show(\"Signed in as \" + userID + \".\");\n                homePage();\n            } else {\n                console.log(\"No such account!\");\n                snackbar.show(\"No such account exists. Check that your name and birthday were typed in correctly.\")\n            }\n        }).catch(function (error) {\n            console.log(\"Error getting account:\", error);\n            snackbar.show(\"No such account exists. Check that you typed in the classcode correctly.\")\n        })\n    }\n});\n\nregisterSubmitBtn.addEventListener(\"click\", e => {\n    e.preventDefault();\n    if (parseUserForm(\"register\", registrationForm)) {\n        db.setCredentials(classCode, userID);\n        db.getUserData()\n        .then((userData) => {\n            if (userData) {\n                console.log(\"Account already exists\");\n                snackbar.show(\"Account already exists.\");\n            } else {\n                console.log(\"Creating account\");\n                // add some fields to account object\n                db.setValues({\n                    classCode: classCode,\n                    userID: userID\n                })\n                .then(function () {\n                    console.log(\"Document successfully written!\");\n                    snackbar.show(\"Signed in as \" + userID + \".\");\n                    homePage();\n                })\n                .catch(function (error) {\n                    console.error(\"Error writing document: \", error);\n                    snackbar.show(\"Error creating new account.\");\n                });\n            }\n        }).catch(function (error) {\n            console.log(\"Error getting account:\", error);\n            snackbar.show(\"Cannot create account. Please make sure that class code is correct.\");\n        });\n    }\n});\n\n\nfunction initApp() {\n    if (null === localStorage.getItem(\"homepage\")) {\n        let homePage = window.location.href;\n        localStorage.setItem(\"homepage\", homePage);\n    }\n    window.db = getDBConnection(\"localstorage\");\n    getUserInfoFromLocalStorage();\n    if (classCode && userID) {\n        homePage();\n    } else {\n        indexPage();\n    }\n}\n\ninitApp();","import \"./index.css\";\n\nexport class NavBar {\n    constructor() {\n        this.el = document.querySelector(\"nav.navbar\");\n        this.userInfoRegion = document.getElementById(\"user_info_region\");\n        this.activityTitle = document.getElementById(\"activity_title\");\n        this.activitySection = document.getElementById(\"activity_section\");\n        this.signOutBtn = document.getElementById(\"sign_out_button\");\n        this.signInText = document.getElementById(\"sign_in_text\");\n        this.signOutUser = this.signOutUser.bind(this);\n        // this.logoutHandler = logoutHandler;\n        this.signOutBtn.addEventListener(\"click\", this.signOutUser);\n    }\n\n    signOutUser(e) {\n        this.userInfoRegion.classList.add(\"invisible\");\n        let homePage = localStorage.getItem(\"homepage\");\n        if (null === homePage) {\n            homePage = window.location.origin + \"/\";\n        }\n        localStorage.clear();\n        window.location.href = homePage;\n    }\n\n    displayActivityTitle(title) {\n        this.activityTitle.innerText = title;\n    }\n\n    displayActivitySection(section) {\n        this.activitySection.innerText = section;\n    }\n\n    displayUser(userName) {\n        this.signInText.innerHTML = `Welcome, ${userName}`;\n        this.userInfoRegion.classList.remove(\"invisible\");\n    }\n};\n","import \"./index.css\";\n\n\nexport class SnackBar {\n    constructor(eleID) {\n        this.el = document.getElementById(eleID || \"snackbar\");\n    }\n\n    show(text) {\n        this.el.innerHTML = text;\n        // Add the \"show\" class to DIV\n        // this.el.className = \"show\";\n        this.el.classList.add(\"show\");\n        // After 3 seconds, remove the show class from DIV\n        setTimeout(() => {\n            // snackbar.className = snackbar.className.replace(\"show\", \"\");\n            this.el.classList.remove(\"show\");\n        }, 3000);    \n    }\n}\n","import { LocalStorageDB } from \"./localStorageDB\";\nimport { FirestoreDB } from \"./firestoreDB\";\n\nexport function getDBConnection(dbType) {\n    let db;\n    switch(dbType) {\n        case \"firestore\":\n            db = new FirestoreDB();\n            break;\n        default:\n            db = new LocalStorageDB();\n    }\n    return db; \n}\n"],"sourceRoot":""}