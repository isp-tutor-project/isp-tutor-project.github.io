!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"prevHypoTask",(function(){return Pe})),n.d(t,"nextHypoTask",(function(){return Fe})),n.d(t,"currHypoTask",(function(){return Ne})),n.d(t,"initHypoTasks",(function(){return Ie}));n(0);class a{constructor(){}setCredentials(e,t){this.classCode=e,this.userID=t}getUserData(){}getActivityData(e,t=!0){}getRQData(){}getCurrHypoTask(){}getInitialHypoData(){}getFinalHypoData(){}saveValue(e,t){}saveJSONValue(e,t){}getBoolValue(e){}getIntValue(e){}getFloatValue(e){}getTextValue(e){}getJSONValue(e){}}class o extends a{constructor(){super()}setCredentials(e,t){super.setCredentials(e,t)}getUserData(){console.count("getUserData() called");let e={};return Promise.all([this.getTextValue("classCode"),this.getTextValue("userID"),this.getActivityData("rqted"),this.getCurrHypoTask(),this.getIntialHypoData(),this.getFinalHypoData()]).then(([t,n,a,o,i,r])=>(e.classCode=t,e.userID=n,e.rqted=a,o&&(e.currHypoTaskIdx=o),i&&(e.firstPrediction=i.firstPrediction,e.initialHypo=i.initialHypo),r&&(e.secondPrediction=r.secondPrediction,e.finalHypo=r.finalHypo),e))}getActivityData(e,t=!0){return this.getJSONValue(e).then(e=>e&&t?JSON.parse(e):e)}getRQData(){let e=null;return this.getActivityData("rqted").then(t=>(e=t||{moduleState:{selectedArea:{index:1},selectedTopic:{index:1},selectedVariable:{index:1},selectedRQ:{index:1}}},e)).catch(t=>(console.error(t),e))}getCurrHypoTask(){return this.getIntValue("currHypoTaskIdx")}getIntialHypoData(){let e={};return this.getTextValue("firstPrediction").then(t=>null!==t?(e.firstPrediction=t,this.getJSONValue("initialHypo")):(e.firstPrediction=null,null)).then(t=>(e.initialHypo=t,e)).catch(t=>(console.error(t),e))}getFinalHypoData(){let e={};return this.getTextValue("secondPrediction").then(t=>null!==t?(e.secondPrediction=t,this.getJSONValue("finalHypo")):(e.secondPrediction=null,null)).then(t=>(e.finalHypo=t,e)).catch(t=>(console.error(t),e))}setValues(e,t=!1){return new Promise((t,n)=>{try{for(let[t,n]of Object.items(e))localStorage.setItem(t,n);t(!0)}catch(e){n(e)}})}saveValue(e,t){return new Promise((n,a)=>{try{n(localStorage.setItem(e,t))}catch(e){a(e)}})}saveJSONValue(e,t){return new Promise((n,a)=>{try{let a=JSON.stringify(t);n(localStorage.setItem(e,a))}catch(e){a(e)}})}getBoolValue(e){return new Promise((t,n)=>{try{let n=localStorage.getItem(e);void 0===n&&t(n),t("true"===n)}catch(e){n(e)}})}getIntValue(e){let t;return new Promise((n,a)=>{try{let a=localStorage.getItem(e);a&&(t=parseInt(a,10)),n(t)}catch(e){a(e)}})}getFloatValue(e){let t;return new Promise((n,a)=>{try{let a=localStorage.getItem(e);a&&(t=parseFloat(a)),n(t)}catch(e){a(e)}})}getTextValue(e){let t;return new Promise((n,a)=>{try{let a=localStorage.getItem(e);a&&(t=a),n(a)}catch(e){a(e)}})}getJSONValue(e){return new Promise((t,n)=>{try{let n=localStorage.getItem(e);n&&(n=JSON.parse(n)),t(n)}catch(e){n(e)}})}}const i={apiKey:"AIzaSyD7zIk-8V20QqJNSs0cAV0uNL3qjeqLMdM",authDomain:"isptutor.firebaseapp.com",projectId:"isptutor"};class r extends a{constructor(){super(),firebase.initializeApp(i),this.store=firebase.firestore()}setCredentials(e,t){super.setCredentials(e,t),this.userRef=this.store.collection(this.classCode).doc(this.userID)}getUserData(){return this.userRef.get().then(e=>e.exists?e.data:null)}getCurrHypoTask(){}getActivityData(e,t=!0){return this.getUserData().then(n=>{let a=n[e];return a&&t?JSON.parse(a):a})}setValues(e,t=!1){return this.userRef.set(e,{merge:!t})}updateValues(e){return this.userRef.update(e)}deleteValue(e){return this.userRef.update({[e]:firebase.firestore.FieldValue.delete()})}}n(1);n(2);const l={_MODULEDATA:"v1.0.0",_ONTOLOGY:{S:{A1:{withinarea:"Within the area of Physical and Chemical Changes,",nochoicearea:"Physical and Chemical Changes",T1:{features:"FTR_CRYSTAL",wewillselect:"we will select the topic crystal growth",belowarevariables:"Below are some variables that might affect the amount of crystal growth on a string in water.",enumVar1:"Initial water temperature",enumVar2:"The type of crystals",enumVar3:"The initial amount of crystals on the string",enumVar4:"The type of string",enumUtt4:"And the type of string",enumMat1:"A glass jar",enumMat2:"A calendar",enumMat3:"A pencil",enumMat4:"String",enumMat5:"Distilled water",enumMat6:"Crystals",enumMat7:"and a digital scale",enumProcess1:"We will mix a crystal salt or sugar in water so it dissolves.",enumProcess2:"We will continue to add the crystals and mix until no more crystals can be dissolved in the water. This is the saturation point.",enumProcess3:" ",enumProcess4:"Then we will put a string in the water.",enumProcess5:" ",enumProcess6:"We can measure the weight of the crystal growth after two weeks.",fourcanchange:"In this experiment, there are only four things we can change. Any of these might make a difference in the amount of crystal growth on a string in water. These are the four variables you can test in this experiment",enumValue1:"The initial Water Temperature",enumValue1a:"Cool (16°C)",enumValue1b:"Hot (50°C)",enumValue2:"The Type of Crystal",enumValue2a:"Salt",enumValue2b:"Brown Sugar",enumValue3:"The initial amount of crystals on the string",enumValue3a:"Some",enumValue3b:"None",enumValue4:"The type of string",enumValue4a:"Twine",enumValue4b:"Yarn",enumValueUtt1a:"The initial water temperature which can be cool.",enumValueUtt1b:"Or hot, might make a difference.",enumValueUtt2a:"The type of crystal which can be salt",enumValueUtt2b:"Or brown sugar, might make a difference.",enumValueUtt3a:"The initial amount of crystals on the string which can be some",enumValueUtt3b:"Or none, might make a difference.",enumValueUtt4a:"And the type of string which can be twine.",enumValueUtt4b:"Or yarn. This might also make a difference.",RQ1:{rqselected:"Does the initial water temperature",ExpSelected:"initial water temperature"},RQ2:{rqselected:"Does the type of crystal",ExpSelected:"type of crystal"},RQ3:{rqselected:"Does the initial amount of crystals on the string",ExpSelected:"initial amount of crystals on the string"},RQ4:{rqselected:"Does the type of string",ExpSelected:"type of string"},rqselectedall:"affect the weight of the crystal growth on a string in water after two weeks?",rqselectedalls:"affects the weight of the crystal growth on a string after two weeks?",DVg:"amount of crystal growth on a string in water",DVst:"The weight of the crystal growth on the string after two weeks",DVs:"weight of the crystal growth on the string after two weeks",DVabb:"weight of crystal on string",buttVarName1:"The initial Water Temperature",buttVarName2:"The Type of Crystal",buttVarName3:"The initial amount of crystals on the string",buttVarName4:"The type of string"},T2:{features:"FTR_SODA",wewillselect:"we will select the topic soda mint reactions",belowarevariables:"Below are some variables that might affect the reaction between soda and mints.",enumVar1:"The type of sweetener in the soda",enumVar2:"The amount of caffeine in the soda",enumVar3:"The surface texture of the mint",enumVar4:"The amount of carbon dioxide in the soda",enumUtt4:"And the amount of carbon dioxide in the soda",enumMat1:"A mint",enumMat2:"a bottle of soda",enumMat3:"and a ruler",enumProcess1:"We will put a single mint into a bottle of soda.",enumProcess2:"Bubbles forming a soda geyser may come out of the bottle.",enumProcess3:"We can measure the height of the soda geyser.",fourcanchange:"In this experiment, there are only four things we can change. Any of these might make a difference in the reaction between the soda and mint. These are the four variables you can test in this experiment",enumValue1:"The type of sweetener in the soda",enumValue1a:"Sugar",enumValue1b:"Aspartame",enumValue2:"The amount of caffeine in the soda",enumValue2a:"Some",enumValue2b:"None",enumValue3:"The surface Texture of the mint",enumValue3a:"Smooth",enumValue3b:"Rough",enumValue4:"The amount of carbon dioxide in the soda",enumValue4a:"High",enumValue4b:"Low",enumValueUtt1a:"The type of sweetener which can be sugar",enumValueUtt1b:"Or aspartame, might make a difference",enumValueUtt2a:"The amount of caffeine in the soda which can be some",enumValueUtt2b:"Or none, might make a difference",enumValueUtt3a:"The surface texture of the mint, which can be smooth",enumValueUtt3b:"Or rough, might make a difference",enumValueUtt4a:"And the amount of carbon dioxide in the soda which can be high",enumValueUtt4b:"Or low. This might also make a difference",RQ1:{rqselected:"Does the type of sweetener in the soda",ExpSelected:"type of sweetener in the soda"},RQ2:{rqselected:"Does the amount of caffeine in the soda",ExpSelected:"amount of caffeine in the soda"},RQ3:{rqselected:"Does the surface texture of the mint",ExpSelected:"surface texture of the mint"},RQ4:{rqselected:"Does the amount of carbon dioxide in the soda",ExpSelected:"amount of carbon dioxide in the soda",ExpSelected2:"The amount of carbon dioxide in the soda"},rqselectedall:"affect the strength of the reaction between soda and mints?",rqselectedalls:"affects the height of the soda geyser?",DVg:"Strength of the reaction between soda and mints",DVst:"The height of the soda geyser",DVs:"height of the soda geyser",DVabb:"geyser height",buttVarName1:"The type of sweetener in the soda",buttVarName2:"The amount of caffeine in the soda",buttVarName3:"The surface Texture of the mint",buttVarName4:"The amount of carbon dioxide in the soda"}},A2:{withinarea:"Within the area of Heat and Temperature,",nochoicearea:"Heat and Temperature",T1:{features:"FTR_ICEMELT",wewillselect:"we will select the topic ice melting time",belowarevariables:"Below are some variables that might affect the time it takes for an ice cube to melt in water.",enumVar1:"The initial temperature of the ice cube",enumVar2:"The initial temperature of the water",enumVar3:"The pattern on the glass",enumVar4:"The shape of the glass",enumUtt4:"And the shape of the glass",enumMat1:"A thermometer",enumMat2:"Glass cups",enumMat3:"Ice cubes and ice bucket",enumMat4:"Water",enumMat5:"And a digital clock",enumProcess1:"We will place an ice cube in a glass filled with 237 milliliters of water.",enumProcess2:"The ice cube will eventually completely melt.",enumProcess3:"We can measure the time it takes for the ice cube to melt in water.",fourcanchange:"In this experiment, there are only four things we can change. Any of these might make a difference in the time it takes for the ice cube to melt in water. These are the four variables you can test in this experiment",enumValue1:"The initial temperature of the ice cube",enumValue1a:"0°C",enumValue1b:"-20°C",enumValue2:"The initial temperature of the water",enumValue2a:"Cold",enumValue2b:"Hot",enumValue3:"The pattern on the glass",enumValue3a:"Striped",enumValue3b:"Plain",enumValue4:"The shape of the glass",enumValue4a:"Short",enumValue4b:"Tall",enumValueUtt1a:"the initial temperature of the ice cube which can be zero degrees Celsius",enumValueUtt1b:"Or negative twenty degrees Celsius, might make a difference",enumValueUtt2a:"The initial temperature of the water which can be cold",enumValueUtt2b:"Or hot, might make a difference",enumValueUtt3a:"The pattern on the glass which can be striped",enumValueUtt3b:"Or plain, might make a difference",enumValueUtt4a:"And the shape of the glass which can be short or",enumValueUtt4b:"Tall. This might also make a difference",RQ1:{rqselected:"Does the initial temperature of the ice cube",ExpSelected:"initial temperature of the ice cube"},RQ2:{rqselected:"Does the initial temperature of the water",ExpSelected:"initial temperature of the water"},RQ3:{rqselected:"Does the pattern on the glass",ExpSelected:"pattern on the glass"},RQ4:{rqselected:"Does the shape of the glass",ExpSelected:"shape of the glass"},rqselectedall:"affect the time it takes for an ice cube to melt in water?",rqselectedalls:"affects the time it takes for the ice cube to melt in water?",DVg:"Time it takes for an ice cube to melt in water",DVst:"The time it takes for the ice cube to melt in water",DVs:"time it takes for the ice cube to melt in water",DVabb:"time to melt",buttVarName1:"The initial temperature of the ice cube",buttVarName2:"The initial temperature of the water",buttVarName3:"The pattern on the glass",buttVarName4:"The shape of the glass"},T2:{features:"FTR_BALLOON",wewillselect:"we will select the topic temperature of a gas",belowarevariables:"Below are some variables that might affect the temperature of gas in a balloon.",enumVar1:"The color of the balloon",enumVar2:"The amount of sunlight exposure the balloon gets",enumVar3:"The material the balloon is made of",enumVar4:"The type of chair the balloon is tied to",enumUtt4:"And the type of chair the balloon is tied to",enumMat1:"A balloon",enumMat2:"A wireless temperature reader and sensor",enumMat3:"A chair",enumMat4:"A stopwatch",enumMat5:"A helium tank",enumMat6:"And an umbrella",enumProcess1:"We will pump 5 grams of Helium at 15 degrees Celsius into a balloon.",enumProcess2:" ",enumProcess3:"Then we will place the balloon outside for 30 minutes.",enumProcess4:"The temperature of the outside air is 27 degrees Celsius.",enumProcess5:"We can measure the temperature of the gas after 30 minutes.",fourcanchange:"In this experiment, there are only four things we can change. Any of these might make a difference in the temperature of gas in the balloon. These are the four variables you can test in this experiment",enumValue1:"The color of the balloon",enumValue1a:"Light",enumValue1b:"Dark",enumValue2:"The amount of sunlight exposure the balloon gets",enumValue2a:"Full Sun",enumValue2b:"Shade",enumValue3:"The material the balloon is made of",enumValue3a:"Latex",enumValue3b:"Foil",enumValue4:"The type of chair the balloon is tied to",enumValue4a:"Wooden",enumValue4b:"Canvas",enumValueUtt1a:"The color of the balloon, which can be light",enumValueUtt1b:"Or dark, might make a difference",enumValueUtt2a:"The amount of sunlight exposure the balloon gets, which can be full sun",enumValueUtt2b:"Or shade, might make a difference",enumValueUtt3a:"The material the balloon is made of which can be latex",enumValueUtt3b:"Or foil, might make a difference",enumValueUtt4a:"And the type of chair the balloon is tied to, which can be a wooden chair",enumValueUtt4b:"Or a canvas chair. This might also make a difference",RQ1:{rqselected:"Does the color of the balloon",ExpSelected:"color of the balloon"},RQ2:{rqselected:"Does the amount of sunlight exposure the balloon gets",ExpSelected:"amount of sunlight exposure the balloon gets"},RQ3:{rqselected:"Does the material the balloon is made of",ExpSelected:"material the balloon is made of"},RQ4:{rqselected:"Does the type of chair the balloon is tied to",ExpSelected:"type of chair the balloon is tied to"},rqselectedall:"affect the gas temperature within the balloon after 30 minutes?",rqselectedalls:"affects the gas temperature within balloon after 30 minutes?",DVg:"Temperature of gas in a balloon",DVst:"The gas temperature within balloon after 30 minutes",DVs:"gas temperature within balloon after 30 minutes",DVabb:"Gas temperature",buttVarName1:"The color of the balloon",buttVarName2:"The amount of sunlight exposure the balloon gets",buttVarName3:"The material the balloon is made of",buttVarName4:"The type of chair the balloon is tied to"}},A3:{withinarea:"Within the area of Forces and Motion,",nochoicearea:"Forces and Motion",T1:{features:"FTR_RAMPS",wewillselect:"we will select the topic the speed of balls at the bottom of ramps",belowarevariables:"Below are some variables that might affect the speed of balls at the bottom of ramps.",enumVar1:"The Slope of the Ramp",enumVar2:"The Color of the Ball",enumVar3:"The Starting Position of the Ball",enumVar4:"The Surface Texture of the Ramp",enumUtt4:"And the Surface Texture of the Ramp",enumMat1:"A speedometer",enumMat2:"A ramp",enumMat3:"And a ball",enumProcess1:"We will place a ball on the ramp.",enumProcess2:"The ball will roll down the ramp.",enumProcess3:"We will measure the balls speed at the bottom of the ramp.",fourcanchange:"In this experiment, there are only four things we can change. Any of these might make a difference in the speed of the ball at the bottom of the ramp. These are the four variables you can test in this experiment",enumValue1:"The Slope of the Ramp",enumValue1a:"Not Steep",enumValue1b:"Steep",enumValue2:"The Color of the Ball",enumValue2a:"Yellow",enumValue2b:"Pink",enumValue3:"The Starting Position of the Ball",enumValue3a:"Middle",enumValue3b:"Top",enumValue4:"The Surface Texture of the Ramp",enumValue4a:"Rough",enumValue4b:"Smooth",enumValueUtt1a:"The slope of the ramp, which can be not steep",enumValueUtt1b:"Or steep, might make a difference",enumValueUtt2a:"The color of the ball which can be yellow",enumValueUtt2b:"Or pink, might make a difference",enumValueUtt3a:"The starting position of the ball, which can be in the middle",enumValueUtt3b:"Or at the top, might make a difference",enumValueUtt4a:"And the surface texture of the ramp, which can be rough",enumValueUtt4b:"Or smooth.  This might also make a difference",RQ1:{rqselected:"Does the slope of the ramp",ExpSelected:"slope of the ramp"},RQ2:{rqselected:"Does the color of the ball",ExpSelected:"color of the ball"},RQ3:{rqselected:"Does the starting position of the ball",ExpSelected:"starting position of the ball"},RQ4:{rqselected:"Does the surface texture of the ramp",ExpSelected:"surface texture of the ramp"},rqselectedall:"affect the speed of the ball at the bottom of the ramp?",rqselectedalls:"affects the speed of the ball at the bottom of the ramp?",DVg:"Speed of the ball at the bottom of the ramp",DVst:"The speed of the ball at the bottom of the ramp",DVs:"speed of the ball at the bottom of the ramp",DVabb:"Speed of the ball at the bottom of the ramp",buttVarName1:"The Slope of the Ramp",buttVarName2:"The Color of the Ball",buttVarName3:"The Starting Position of the Ball",buttVarName4:"The Surface Texture of the Ramp"},T2:{features:"FTR_SINKING",wewillselect:"we will select the topic the time for objects to sink",belowarevariables:"Below are some variables that might affect the time it takes for objects to sink in water.",enumVar1:"Density of the Water",enumVar2:"Shape of the Object",enumVar3:"Volume of the Object",enumVar4:"Density of the Object",enumUtt4:"And the density of the Object",enumMat1:"A stopwatch",enumMat2:"A lead or glass object",enumMat3:"A graduated cylinder",enumMat4:"And water",enumProcess1:"We will place an object into a graduated cylinder filled with water.",enumProcess2:" ",enumProcess3:"It will sink to the bottom.",enumProcess4:" ",enumProcess5:"We can measure the time it takes for the object to sink in water.",fourcanchange:"In this experiment, there are only four things we can change. Any of these might make a difference in the time it takes for objects to sink in water. These are the four variables you can test in this experiment",enumValue1:"The Density of the Water",enumValue1a:"Low",enumValue1b:"High",enumValue2:"The Shape of the Object",enumValue2a:"Sphere",enumValue2b:"Tear-Shaped",enumValue3:"The Volume of the Object",enumValue3a:"Small",enumValue3b:"Large",enumValue4:"The Density of the Object",enumValue4a:"High",enumValue4b:"Low",enumValueUtt1a:"The density of the water, which can be low",enumValueUtt1b:"Or high, might make a difference",enumValueUtt2a:"The shape of the object which can be a sphere",enumValueUtt2b:"Or tier-shaped, might make a difference",enumValueUtt3a:"The volume of the object which can be small",enumValueUtt3b:"Or large, might make a difference",enumValueUtt4a:"And the density of the object which can be high",enumValueUtt4b:"Or low.  This might also make a difference",RQ1:{rqselected:"Does the density of water",ExpSelected:"density of water"},RQ2:{rqselected:"Does the shape of the object",ExpSelected:"shape of the object"},RQ3:{rqselected:"Does the volume of the object",ExpSelected:"volume of the object"},RQ4:{rqselected:"Does the density of the object",ExpSelected:"density of the object"},rqselectedall:"affect the time it takes for objects to sink in water?",rqselectedalls:"affects the time it takes for objects to sink in water?",DVg:"Time it takes for objects to sink in water",DVst:"The time it takes for objects to sink in water",DVs:"time it takes for objects to sink in water",DVabb:"time to sink",buttVarName1:"The Density of the Water",buttVarName2:"The Shape of the Object",buttVarName3:"The Volume of the Object",buttVarName4:"The Density of the Object"}},A4:{withinarea:"Within the area of Plant Reproduction,",nochoicearea:"Plant Reproduction",T1:{features:"FTR_GRHOUSE",wewillselect:"we will select the topic Flower Reproduction",belowarevariables:"Below are some variables that might affect the number of seeds produced by flowers in a greenhouse.",enumVar1:"The Number of honey bees in the greenhouse",enumVar2:"The Amount of sunlight the greenhouse lets in",enumVar3:"The Amount of Fertilizer",enumVar4:"The Type of Water",enumUtt4:"And the Type of Water",enumMat1:"A greenhouse",enumMat2:"Twelve sunflower plants",enumMat3:"A beehive with bees",enumMat4:"Fertilizer",enumMat5:"And water",enumProcess1:"We will plant twelve sunflowers in the ground in a greenhouse at the beginning of Spring.",enumProcess2:" ",enumProcess3:"The flowers will produce seeds then die by the end of the season.",enumProcess4:"We can measure the number of seeds produced by the flowers at the end of the season. ",fourcanchange:"In this experiment, there are only four things we can change. Any of these might make a difference in the number of seeds produced by the flowers at the end of the season. These are the four variables you can test in this experiment",enumValue1:"The Number of honey bees in the greenhouse",enumValue1a:"Zero",enumValue1b:"Whole Hive",enumValue2:"The Amount of sunlight the greenhouse lets in",enumValue2a:"Full Sunlight",enumValue2b:"Partial Sunlight",enumValue3:"The Amount of Fertilizer",enumValue3a:"None",enumValue3b:"Some",enumValue4:"The Type of Water",enumValue4a:"Rain Water",enumValue4b:"Tap Water",enumValueUtt1a:"The number of honey bees in the greenhouse, which can be zero",enumValueUtt1b:"Or a whole hive, might make a difference",enumValueUtt2a:"The amount of sunlight the greenhouse lets in, which can be full sunlight",enumValueUtt2b:"Or partial sunlight, might make a difference",enumValueUtt3a:"The amount of fertilizer, which can be none",enumValueUtt3b:"Or some, might make a difference",enumValueUtt4a:"And the type of water, which can be rain water",enumValueUtt4b:"Or tap water.   This might also make a difference",RQ1:{rqselected:"Does the number of honey bees in the greenhouse",ExpSelected:"number of honey bees in the greenhouse",ExpSelected2:"The number of honey bees in the greenhouse"},RQ2:{rqselected:"Does the amount of sunlight the greenhouse lets in",ExpSelected:"amount of sunlight the greenhouse lets in"},RQ3:{rqselected:"Does the amount of fertilizer",ExpSelected:"amount of fertilizer"},RQ4:{rqselected:"Does the type of water",ExpSelected:"type of water"},rqselectedall:"affect the number of seeds produced by flowers at the end of the season?",rqselectedalls:"affects the number of seeds produced by flowers at the end of the season?",DVg:"Number of seeds produced by flowers in a greenhouse",DVst:"The number of seeds produced by the flowers at the end of the season",DVs:"number of seeds produced by the flowers at the end of the season",DVabb:"number of seeds",buttVarName1:"The Number of honey bees in the greenhouse",buttVarName2:"The Amount of sunlight the greenhouse lets in",buttVarName3:"The Amount of Fertilizer",buttVarName4:"The Type of Water"},T2:{features:"FTR_ALGAE",wewillselect:"we will select the topic Algae Reproduction",belowarevariables:"Below are some variables that might affect the amount of algae produced in water.",enumVar1:"The Temperature of the Water",enumVar2:"The Amount of Exposure to Music",enumVar3:"The Amount of Carbon Dioxide in the Water",enumVar4:"The Amount of Direct Sunlight Exposure",enumUtt4:"And the Amount of Direct Sunlight Exposure",enumMat1:"A radio",enumMat2:"A calendar",enumMat3:"A digital scale",enumMat4:"A fish tank heater",enumMat5:"Fifty grams of algae",enumMat6:"A fish tank filled with 16 liters of water",enumMat7:"A thermometer",enumMat8:"And a carbon dioxide machine",enumProcess1:"We will add fifty grams of algae to a fish tank filled with 16 liters of distilled water.",enumProcess2:" ",enumProcess3:"We can measure the weight of the algae production after one week.",fourcanchange:"In this experiment, there are only four things we can change. Any of these might make a difference in the weight of the algae after one week. These are the four variables you can test in this experiment",enumValue1:"The Temperature of the Water",enumValue1a:"Room Temperature",enumValue1b:"Warm",enumValue2:"The Amount of Exposure to Music",enumValue2a:"Constant Music",enumValue2b:"No Music",enumValue3:"The Amount of Carbon Dioxide in the Water",enumValue3a:"A Lot",enumValue3b:"None",enumValue4:"The Amount of Direct Sunlight Exposure",enumValue4a:"Some",enumValue4b:"None",enumValueUtt1a:"The temperature of the water, which can be room temperature",enumValueUtt1b:"Or a warm, might make a difference",enumValueUtt2a:"The amount of exposure to music which can be constant music",enumValueUtt2b:"Or no music, might make a difference",enumValueUtt3a:"The amount of carbon dioxide, which can be a lot",enumValueUtt3b:"Or none, might make a difference",enumValueUtt4a:"And the amount of direct sunlight exposure, which can be some",enumValueUtt4b:"Or none. This might also make a difference",RQ1:{rqselected:"Does the temperature of the water",ExpSelected:"temperature of the water"},RQ2:{rqselected:"Does the exposure to music",ExpSelected:"exposure to music"},RQ3:{rqselected:"Does the amount of carbon dioxide in the water",ExpSelected:"amount of carbon dioxide in the water"},RQ4:{rqselected:"Does the amount of direct sunlight exposure",ExpSelected:"amount of direct sunlight exposure"},rqselectedall:"affect the weight of the algae produced after one week?",rqselectedalls:"affects the weight of the algae produced after one week?",DVg:"Amount of algae produced in water",DVst:"The weight of the algae produced after one week",DVs:"weight of the algae produced after one week",DVabb:"algae weight",buttVarName1:"The Temperature of the Water",buttVarName2:"The Amount of Exposure to Music",buttVarName3:"The Amount of Carbon Dioxide in the Water",buttVarName4:"The Amount of Direct Sunlight Exposure"}}},EG:{BOTH:{S5aT1a:"Here are all of the materials that may be necessary for this experiment",track1:"In this lesson, we will ask you to set up and evaluate experiments.",track8:"You will set up (but not run) an experiment on the computer to answer the research question that you have selected.",track9:"Let's begin by focusing on one area of science",S10B1:"I'd like to test a different variable for my research question.",S10B2:"I'd like to pick a different area or topic.",S10B3:"I'd like to pick a whole different area.",S10B4:"I like this question."},A1:{type:"choice",pronoun:"you",selecttopic:"please select a topic by clicking on a picture below.",selecttv:"Select the variable you would like to test. This variable is the independent variable of your experiment.",rqselected:"The research question you have chosen is",rqselectedText:"Your research question is:",okselected:"OK! You have chosen as your Research Question",okselectedText:"OK! You have chosen as your Research Question:",cantest:"You can test one of these variables in your experiment.",track2:"But first you will select a general area for the experiment.",track3:"For example, you might select the general area of psychology.",track4:"After you select the general area, you will then select a specific topic within that area.",track5:"For example, within the general area of psychology, you might select the topic attention to color.",track6:"Within that topic, you will select a research question.",track7:"For example, within the topic of attention to color, you might select a research question such as does the color of the t-shirt a person is wearing affect attention?",track10:"Please tap on the area you wish to use for your experiment design.",rqselectedall:""},A2:{type:"no choice",pronoun:"we",selecttopic:"Please click the highlighted picture below.",selecttv:"We will test the following variable:",selecttv2:", This variable is the independent variable of the experiment. Please click on the highlighted button below",rqselected:"Our research question is",rqselectedText:"Our research question is:",okselected:"OK! We have chosen the Research Question below. Write this down in your notebook!",okselectedText:"OK! We have chosen the Research Question below. Write this down in your notebook!",cantest:"We can test one of these variables in the experiment.",track2:"But first we will select a general area for the experiment.",track3:"For example, we might select the general area of psychology.",track4:"After we select the general area, we will then select a specific topic within that area.",track5:"For example, within the general area of psychology, we might select the topic attention to color.",track6:"Within that topic, we will select a research question.",track7:"For example, within the topic of attention to color, we might select a research question such as does the color of the t-shirt a person is wearing affect attention?",track10:"we will select the topic",track10b:"Please click the highlighted picture below.",rqselectedall:""},A3:{introtitle:"<p>In this lesson, we will ask you to set up and evaluate experiments.</p><p>Here is the procedure for one practice trial for this experiment.</p>",okselected:"OK! First, design an experiment to answer this research question: ",okselectedText:"OK! First, design an experiment to answer this research question: ",cantest:"We can test one of these variables in the experiment."}}}},s={A1:{T1:{V1:{IV:"",DV:"",DVabb:"",NODES:["Kinetic energy of water molecules","Evaporation rate of water","Amount of water in jar","Concentration of Na+ and Cl- in water","Amount of water string absorbs","Kinetic energy of Na+ and Cl- atoms","Chance of Na+ and Cl- bonding","Amount of Na+ & Cl- left behind on string"],CAUSES:["Electric force","Conservation of matter","Energy to escape electric forces","motion transfer from collisions","Force of gravity"]},V2:{IV:"",DV:"",DVabb:"",NODES:["Kinetic energy of water molecules","Evaporation rate of water","Amount of water in jar","Concentration of Na+ and Cl- in water","Amount of water string absorbs","Kinetic energy of Na+ and Cl- atoms","Chance of Na+ and Cl- bonding","Amount of NA+ & Cl- left behind on string"],CAUSES:["Electric force","Conservation of matter","Energy to escape electric forces","motion transfer from collisions","Force of gravity"]},V3:{IV:"",DV:"",DVabb:"",NODES:["Kinetic energy of water molecules","Evaporation rate of water","Amount of water in jar","Concentration of Na+ and Cl- in water","Amount of water string absorbs","Kinetic energy of Na+ and Cl- atoms","Chance of Na+ and Cl- bonding","Amount of NA+ & Cl- left behind on string"],CAUSES:["Electric force","Conservation of matter","Energy to escape electric forces","motion transfer from collisions","Force of gravity"]},V4:{IV:"",DV:"",DVabb:"",NODES:["Kinetic energy of water molecules","Evaporation rate of water","Amount of water in jar","Concentration of Na+ and Cl- in water","Amount of water string absorbs","Kinetic energy of Na+ and Cl- atoms","Chance of Na+ and Cl- bonding","Amount of NA+ & Cl- left behind on tstring"],CAUSES:["Electric force","Conservation of matter","Energy to escape electric forces","motion transfer from collisions","Force of gravity"]}},T2:{V1:{IV:"",DV:"",DVabb:"",NODES:["Nucleation Sites on Mint","Amount of CO2 bubbles on mint","amount of CO2 escaping from soda","kinetic energy CO2 bubbles"],CAUSES:["unknown cause","due to more mass","buoyancy force","conservation energy"]},V2:{IV:"",DV:"",DVabb:"",NODES:["Nucleation Sites on Mint","Amount of CO2 bubbles on mint","amount of CO2 escaping from soda","kinetic energy CO2 bubbles"],CAUSES:["unknown cause","due to more mass","buoyancy force","conservation energy"]},V3:{IV:"",DV:"",DVabb:"",NODES:["Nucleation Sites on Mint","Amount of CO2 bubbles on mint","amount of CO2 escaping from soda","kinetic energy CO2 bubbles"],CAUSES:["unknown cause","due to more mass","buoyancy force","conservation energy"]},V4:{IV:"",DV:"",DVabb:"",NODES:["Nucleation Sites on Mint","Amount of CO2 bubbles on mint","amount of CO2 escaping from soda","kinetic energy CO2 bubbles"],CAUSES:["unknown cause","due to more mass","buoyancy force","conservation energy"]}}},A2:{T1:{V1:{IV:"",DV:"",DVabb:"",NODES:["Kinetic energy of H2O molecules in ice","Motion of H2O molecules","Likelihood of H2O molecules breaking bonds","Amount of melting","Time for (initial) ice & water to reach same temp"],CAUSES:["conservation of matter","speed changes during collisions","energy to escape electric forces"]},V2:{IV:"",DV:"",DVabb:"",NODES:["Kinetic energy of H2O molecules in ice","Motion of H2O molecules","Likelihood of H2O molecules breaking bonds","Amount of melting","Time for (initial) ice & water to reach same temp"],CAUSES:["conservation of matter","speed changes during collisions","energy to escape electric forces"]},V3:{IV:"",DV:"",DVabb:"",NODES:["Kinetic energy of H2O molecules in ice","Motion of H2O molecules","Likelihood of H2O molecules breaking bonds","Amount of melting","Time for (initial) ice & water to reach same temp"],CAUSES:["conservation of matter","speed changes during collisions","energy to escape electric forces"]},V4:{IV:"",DV:"",DVabb:"",NODES:["Kinetic energy of H2O molecules in ice","Motion of H2O molecules","Likelihood of H2O molecules breaking bonds","Amount of melting","Time for (initial) ice & water to reach same temp"],CAUSES:["conservation of matter","speed changes during collisions","energy to escape electric forces"]}},T2:{V1:{IV:"",DV:"",DVabb:"",NODES:["Amount of sunlight balloon absorbs","Amount of sunlight converted to thermal energy","Temperature of balloon material","Amt thermal energy from balloon to gas"],CAUSES:["thermal energy transfer","conservation of energy","electric forces"]},V2:{IV:"",DV:"",DVabb:"",NODES:["Amount of sunlight balloon absorbs","Amount of sunlight converted to thermal energy","Temperature of balloon material","Amt thermal energy from balloon to gas"],CAUSES:["thermal energy transfer","conservation of energy","electric forces"]},V3:{IV:"",DV:"",DVabb:"",NODES:["Amount of sunlight balloon absorbs","Amount of sunlight converted to thermal energy","Temperature of balloon material","Amt thermal energy from balloon to gas"],CAUSES:["thermal energy transfer","conservation of energy","electric forces"]},V4:{IV:"",DV:"",DVabb:"",NODES:["Amount of sunlight balloon absorbs","Amount of sunlight converted to thermal energy","Temperature of balloon material","Amt thermal energy from balloon to gas"],CAUSES:["thermal energy transfer","conservation of energy","electric forces"]}}},A3:{T1:{V1:{IV:"",DV:"",DVabb:"",NODES:["Time gravitational force acts on ball","Time ball accelerates down ramp","Amount friction between ramp and ball","Kinetic energy of ball"],CAUSES:["Newton's Second Law","Newton's Third Law","More force in direction of motion"]},V2:{IV:"",DV:"",DVabb:"",NODES:["Time gravitational force acts on ball","Time ball accelerates down ramp","Amount friction between ramp and ball","Kinetic energy of ball"],CAUSES:["Newton's Second Law","Newton's Third Law","More force in direction of motion"]},V3:{IV:"",DV:"",DVabb:"",NODES:["Time gravitational force acts on ball","Time ball accelerates down ramp","Amount friction between ramp and ball","Kinetic energy of ball"],CAUSES:["Newton's Second Law","Newton's Third Law","More force in direction of motion"]},V4:{IV:"",DV:"",DVabb:"",NODES:["Time gravitational force acts on ball","Time ball accelerates down ramp","Amount friction between ramp and ball","Kinetic energy of ball"],CAUSES:["Newton's Second Law","Newton's Third Law","More force in direction of motion"]}},T2:{V1:{IV:"",DV:"",DVabb:"",NODES:["Acceleration of object (downward)","Speed of object (downward)","Force of gravity pulling down on object","Buoyancy force pushing up on object"],CAUSES:["Newton's Second Law","Newton's Third Law","masses object and Earth","water molecules hitting object"]},V2:{IV:"",DV:"",DVabb:"",NODES:["Acceleration of object (downward)","Speed of object (downward)","Force of gravity pulling down on object","Buoyancy force pushing up on object"],CAUSES:["Newton's Second Law","Newton's Third Law","masses object and Earth","water molecules hitting object"]},V3:{IV:"",DV:"",DVabb:"",NODES:["Acceleration of object (downward)","Speed of object (downward)","Force of gravity pulling down on object","Buoyancy force pushing up on object"],CAUSES:["Newton's Second Law","Newton's Third Law","masses object and Earth","water molecules hitting object"]},V4:{IV:"",DV:"",DVabb:"",NODES:["Acceleration of object (downward)","Speed of object (downward)","Force of gravity pulling down on object","Buoyancy force pushing up on object"],CAUSES:["Newton's Second Law","Newton's Third Law","masses object and Earth","water molecules hitting object"]}}},A4:{T1:{V1:{IV:"",DV:"",DVabb:"",NODES:["Temperature of Flowers","How sweet flowers smell","Number of Bees attracted to flower","Chance of Pollination","Amount of nectar in flowers"],CAUSES:["transfer of energy","pollen transferred to stigma","pollen fertilizing egg cell","pollen sticks to bee"]},V2:{IV:"",DV:"",DVabb:"",NODES:["Temperature of Flowers","How sweet flowers smell","Number of Bees attracted to flower","Chance of Pollination","Amount of nectar in flowers"],CAUSES:["transfer of energy","pollen transferred to stigma","pollen fertilizing egg cell","pollen sticks to bee"]},V3:{IV:"",DV:"",DVabb:"",NODES:["Temperature of Flowers","How sweet flowers smell","Number of Bees attracted to flower","Chance of Pollination","Amount of nectar in flowers"],CAUSES:["transfer of energy","pollen transferred to stigma","pollen fertilizing egg cell","pollen sticks to bee"]},V4:{IV:"",DV:"",DVabb:"",NODES:["Temperature of Flowers","How sweet flowers smell","Number of Bees attracted to flower","Chance of Pollination","Amount of nectar in flowers"],CAUSES:["transfer of energy","pollen transferred to stigma","pollen fertilizing egg cell","pollen sticks to bee"]}},T2:{V1:{IV:"",DV:"",DVabb:"",NODES:["Amount of glucose produced","Amount of ATP produced","Number of new cells grown","Amount of light absorbed by chlorophyll"],CAUSES:["photosynthesis","chemical reaction","physical reaction","kinetic energy"]},V2:{IV:"",DV:"",DVabb:"",NODES:["Amount of glucose produced","Amount of ATP produced","Number of new cells grown","Amount of light absorbed by chlorophyll"],CAUSES:["photosynthesis","chemical reaction","physical reaction","kinetic energy "]},V3:{IV:"",DV:"",DVabb:"",NODES:["Amount of glucose produced","Amount of ATP produced","Number of new cells grown","Amount of light absorbed by chlorophyll"],CAUSES:["photosynthesis","chemical reaction","physical reaction","kinetic energy"]},V4:{IV:"",DV:"",DVabb:"",NODES:["Amount of glucose produced","Amount of ATP produced","Number of new cells grown","Amount of light absorbed by chlorophyll"],CAUSES:["photosynthesis","chemical reaction","physical reaction","kinetic energy"]}}}},c=(localStorage.getItem("activityFeatures")||"").split(":").filter(e=>""!==e);console.log("features",c);const u=["definitionPage1","lessonOverview","lessonOverview2","definitionPage2","definitionPage3","definitionPage4","definitionPage5","definitionPage6","causes1","causes2","corr1","corr2","quizPage"],h=["graphPage","notePadPage"],d=["biDirInstructionPage1","biDirInstructionPage2","biDirInstructionPage3","oppositeDirectionConceptMap"];const m=new class{constructor(e){this.el=document.getElementById(e||"snackbar")}show(e){this.el.innerHTML=e,this.el.classList.add("show"),setTimeout(()=>{this.el.classList.remove("show")},3e3)}};new class{constructor(){this.el=document.querySelector("nav.navbar"),this.userInfoRegion=document.getElementById("user_info_region"),this.activityTitle=document.getElementById("activity_title"),this.activitySection=document.getElementById("activity_section"),this.signOutBtn=document.getElementById("sign_out_button"),this.signInText=document.getElementById("sign_in_text"),this.signOutUser=this.signOutUser.bind(this),this.signOutBtn.addEventListener("click",this.signOutUser)}signOutUser(e){this.userInfoRegion.classList.add("invisible"),localStorage.clear(),window.location.path="/"}displayActivityTitle(e){this.activityTitle.innerText=e}displayActivitySection(e){this.activitySection.innerText=e}displayUser(e){this.signInText.innerHTML="Welcome, "+e,this.userInfoRegion.classList.remove("invisible")}};let f;const p=(g=document.createElement("canvas").getContext("2d"),(window.devicePixelRatio||1)/(g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1));var g;!function(){let e=window.innerWidth/1200,t=window.innerHeight/750;Math.min(e,t)}();let b=1;const w=createjs.Touch.isSupported()?15:7;let y,x,T,V,A=null,C=!1;const v="Independent Variable",k="Dependent Variable";let S=v,D=k,E=k,j=["Concept 1","Concept 2","Concept 3"];j[-2]=v,j[-1]=k;let O,P,F,N,I,R,M,B=["Cause 1","Cause 2","Cause 3","Cause 4"],_="";function H(e,t){return f.saveValue(e,t).then(()=>!0).catch((function(e){return console.error(e),!1}))}function L(e){document.getElementById("loading_gif").classList.add("hidden"),function(){let e=document.getElementById("hypo-canvas");y=new createjs.Stage(e),createjs.Touch.isSupported()&&(createjs.Touch.enable(y),window.addEventListener("beforeunload",e=>{createjs.Touch.disable(y)}));(function(t,n,a,o){var i,r,l=1;function s(){var s=1200,c=750,u=window.innerWidth,h=window.innerHeight,d=p;d*=2;var m=u/s,f=h/c,g=1;t&&("width"==n&&i==u||"height"==n&&r==h?g=l:a?1==o?g=Math.min(m,f):2==o&&(g=Math.max(m,f)):(u<s||h<c)&&(g=Math.min(m,f))),e.width=s*d*g,e.height=c*d*g,e.style.width=s*g+"px",e.style.height=c*g+"px",y.scaleX=b=d*g,y.scaleY=b=d*g,i=u,r=h,l=g,y.tickOnUpdate=!1,y.update(),y.tickOnUpdate=!0}window.addEventListener("resize",s),s()})(!0,"both",!0,1),y.enableMouseOver(5),createjs.Ticker.addEventListener("tick",y)}(),f.getUserData().then(e=>{if(console.log("loadData",e),console.log(typeof e),O=e.firstPrediction,F=null!==e.initialHypo,P=e.secondPrediction,N=null!==e.finalHypo,e.finalHypo&&e.finalHypo.notesHtml&&(document.getElementById("notepad_notes").innerHTML=e.finalHypo.notesHtml),e.rqted&&e.rqted.moduleState){let t=e.rqted.moduleState,n=t.selectedArea.index,a=t.selectedTopic.index,o=t.selectedVariable.index,i=l._ONTOLOGY.S["A"+n]["T"+a];S=i["enumValue"+o],D=i.DVs,E=i.DVabb;let r=s["A"+n]["T"+a]["V"+o];""!=r.IV&&(S=r.IV),""!=r.DV&&(D=r.DV),""!=r.DVabb&&(E=r.DVabb),B=r.CAUSES,j=r.NODES,j[-2]=S,j[-1]=E}return e}).then(e=>{Ie(e)})}const U={raiseYourHand:function(){y.removeAllChildren();let e=new createjs.Bitmap(V.getResult("TeacherPointing")).set({x:50,y:50}),t=new createjs.Text("In your notebook for this experiment","22px Arial","#000").set({x:600,y:100,textAlign:"center"}),n=new createjs.Text("Make sure you have written your research question ...","22px Arial","#000").set({x:600,y:175,textAlign:"center"}),a=new createjs.Text(W(),"bold 22px Arial","#000").set({x:600,y:250,textAlign:"center",lineHeight:35,lineWidth:700}),o=new createjs.Text("on the cover page of your notebook ","22px Arial","#000").set({x:600,y:350,textAlign:"center"}),i=xe();i.on("click",e=>Pe());let r=Te();r.on("click",e=>Fe()),y.addChild(e,t,n,a,o,i,r),y.update()},startPage:function(){y.removeAllChildren();let e=new createjs.Text("Welcome to the ISP Tutor's Hypothesis module.","28px Arial ","#000").set({x:620,y:80,textAlign:"center",lineWidth:700,lineHeight:35}),t=new createjs.Bitmap(V.getResult("TeacherPointing")).set({x:40,y:80}),n=function(e,t,n,a){let o=new createjs.Shape;o.graphics.beginFill(a).drawRoundRect(0,0,300,100,10);let i=new createjs.Text(n,"bold 32px Arial","#FFFFFF").set({x:150,y:50,textAlign:"center",textBaseline:"middle"}),r=new createjs.Container;return r.x=e-150,r.y=t-50,r.addChild(o,i),r.cursor="pointer",r.mouseChildren=!1,r.on("mouseover",ne),r.on("mouseout",ne),r}(600,350,"Next","#136bfb");n.on("click",Fe),y.addChild(e,t,n),y.update()},definitionPage1:function(){y.removeAllChildren();let e=new createjs.DOMElement("start_page_overlay").set({x:0,y:20/p,scaleX:1.2/p,scaleY:1.2/p});J(e);let t=xe();t.on("click",t=>{K(e),Pe()});let n=Te();n.on("click",t=>{K(e),Fe()}),y.addChild(e,t,n),y.update()},lessonOverview:function(){console.log("in lessonOverview()"),y.removeAllChildren();let e=document.getElementById("lesson_overview_overlay").querySelectorAll(".invisible"),t={};e.forEach(e=>{let n=e.dataset.showOnTransition;t[n]||(t[n]=[]),t[n].push(e)});let n=Math.max(...Object.keys(t))+1;n===-1/0&&(n=1);let a=0,o=new createjs.DOMElement("lesson_overview_overlay").set({x:40/p,y:20/p,scaleX:1.1/p,scaleY:1.1/p}),i=xe();i.on("click",(function(){K(o),Pe()}));let r=Te();r.on("click",(function(){if(a++,a===n)K(o),Fe();else if(t[a])for(let e of t[a])e.classList.remove("invisible")})),y.addChild(o,i,r),y.update(),J(o)},lessonOverview2:function(){y.removeAllChildren();let e=document.getElementById("lesson_overview2_overlay").querySelectorAll(".invisible"),t={};e.forEach(e=>{let n=e.dataset.showOnTransition;t[n]||(t[n]=[]),t[n].push(e)});let n=Math.max(...Object.keys(t))+1;n===-1/0&&(n=1);let a=0,o=new createjs.DOMElement("lesson_overview2_overlay").set({x:20/p,y:20/p,scaleX:1.1/p,scaleY:1.1/p}),i=xe();i.on("click",(function(){K(o),Pe()}));let r=Te();r.on("click",(function(){if(a++,a===n)K(o),Fe();else if(t[a])for(let e of t[a])e.classList.remove("invisible")})),y.addChild(o,i,r),y.update(),J(o)},definitionPage2:function(){y.removeAllChildren();let e=new createjs.Text("You can use a concept map to help you explain how water temperature is related to the weight of crystal growth.","24px Arial","#000").set({x:80,y:50,lineHeight:35,lineWidth:1040}),t=new createjs.Bitmap(V.getResult("ivToDvWithArrow")).set({x:215,y:485,scaleX:.55,scaleY:.55}),n=new createjs.Text("???","bold 24px Arial","#000").set({x:560,y:t.y-20}),a=xe();a.on("click",Pe);let o=Te();o.on("click",Fe),y.addChild(e,t,n,a,o),y.update()},definitionPage3:function(){y.removeAllChildren();let e=new createjs.Text("To help you write a detailed scientific explanation for your prediction, we will ask you to make a concept map (an example is shown below). The final concept map should show step-by-step how the independent variable (water temperature) affects the dependent variable (amount of crystal growth).","24px Arial","#000").set({x:60,y:40,lineHeight:35,lineWidth:1080}),t=new createjs.Text("You will do this by linking concepts that are closely or directly related. For example, as shown below, Water temperature is closely related to 'Concept 1'. 'Concept 1' is closely related to 'Concept 2', and 'Concept 2' is directly related to 'Weight of crystal'.","24px Arial","#000").set({x:100,y:175,lineHeight:35,lineWidth:1030}),n=new createjs.Bitmap(V.getResult("defPagesCptMap")).set({x:200,y:350}),a=xe();a.on("click",Pe);let o=Te();o.on("click",Fe),y.addChild(e,t,n,a,o),y.update()},definitionPage4:function(){y.removeAllChildren();let e=new createjs.Text("For each connected pair of concepts (for example, water temperature and Concept 1), you will be asked to indicate how the concepts are related.","24px Arial","#000").set({x:60,y:60,lineHeight:35,lineWidth:1080}),t=new createjs.Text("The relationships between concepts (as shown below) could be correlations, causes, or definitions.","24px Arial","#000").set({x:120,y:150,lineHeight:35,lineWidth:1e3}),n=new createjs.Bitmap(V.getResult("defPagesCptMap")).set({x:200,y:350}),a=xe();a.on("click",Pe);let o=Te();o.on("click",Fe),y.addChild(e,t,n,a,o),y.update()},definitionPage5:function(){y.removeAllChildren();let e=new createjs.Text("Types of Relationships","bold 24px Arial","#000").set({x:600,y:100,textAlign:"center"}),t=new createjs.Text("When you make your explanation for your prediction, you will need to choose the type of relationship between pairs of concepts. Here are the three types of relationships you can choose:","24px Arial","#000").set({x:600,y:160,textAlign:"center",lineWidth:1e3,lineHeight:30}),n=new createjs.Text("(1) Definition\n\n(2) Cause\n\n(3) Correlation","24px Arial","#000").set({y:300,textAlign:"left",lineHeight:30}),a=n.getMeasuredWidth();n.x=600-a/6;let o=xe();o.on("click",Pe);let i=Te();i.on("click",Fe),y.addChild(e,t,n,o,i),y.update()},definitionPage6:function(){y.removeAllChildren();let e=new createjs.Text("Types of Relationships for Hypotheses","bold 24px Arial","#000").set({x:600,y:40,textAlign:"center"}),t=new createjs.Text("(1) Definition: The meaning of a concept or another way of saying the same thing.","24px Arial","#000").set({x:600,y:100,textAlign:"center"}),n=new createjs.Text("Often, an “everyday” term is defined by the behaviors of molecules...\n\nFor example, the concept of the “temperature” of an object is defined as the average kinetic energy of the molecules that make up the object.","18px Arial","#000").set({x:150,y:230,lineHeight:25,lineWidth:300}),a=new createjs.Text("Or, “Density” is the amount of mass of an object divided by its volume (or how much space it takes up).","18px Arial","#000").set({x:150,y:500,lineHeight:25,lineWidth:300}),o=new createjs.DOMElement("temperature_gif_overlay");o.x=230/p,o.y=90/p,o.scaleX=.3/p,o.scaleY=.3/p;let i=new createjs.Bitmap(V.getResult("densitygraphic")).set({x:600,y:440,scaleX:.5,scaleY:.5}),r=xe();r.on("click",e=>{K(o),Pe()});let l=Te(),s=0;l.on("click",e=>{0==s?(y.addChild(n,o),J(o),y.update()):1==s?(y.addChild(a,i),y.update()):2==s&&(K(o),Fe()),s++}),y.addChild(e,t,r,l),y.update()},causes1:function(){y.removeAllChildren();let e=new createjs.Text("Types of Relationships for Hypotheses","bold 24px Arial","#000").set({x:600,y:40,textAlign:"center"}),t=new createjs.Text("(2) Causes: This is when a change in one variable makes another variable change (or directly affects another variable).","24px Arial","#000").set({x:600,y:90,textAlign:"center",lineWidth:1e3}),n=new createjs.Text("For example, a change in how distracted people are while driving affects how well people drive.","18px Arial","#000").set({x:150,y:180,lineHeight:25,lineWidth:450}),a=new createjs.Text("Or, changing the amount of caffeine we drink causes a change in how how alert we are.","18px Arial","#000").set({x:650,y:180,lineHeight:25,lineWidth:450}),o=new createjs.Bitmap(V.getResult("comic")).set({x:150,y:300,scaleX:.8,scaleY:.7}),i=new createjs.Bitmap(V.getResult("coffeegraphic")).set({x:650,y:300,scaleX:.7,scaleY:.7}),r=xe();r.on("click",Pe);let l=Te(),s=0;l.on("click",e=>{0==s?(y.addChild(n,o),y.update()):1==s?(y.addChild(a,i),y.update()):2==s&&Fe(),s++}),y.addChild(e,t,r,l),y.update()},causes2:function(){y.removeAllChildren();let e=new createjs.Text("Types of Relationships for Hypotheses","bold 24px Arial","#000").set({x:600,y:40,textAlign:"center"}),t=new createjs.Text("(2) Causes: This is when a change in one variable makes another variable change.","24px Arial","#000").set({x:600,y:90,textAlign:"center",lineWidth:1e3,lineHeight:20}),n=new createjs.Text("Often we can explain a cause-effect relationship in more detail...","24px Arial","#000").set({x:600,y:125,textAlign:"center",lineWidth:1e3,lineHeight:20}),a=new createjs.DOMElement("causes2_driving_overlay").set({x:76/p,y:90/p,scaleX:.4/p,scaleY:.4/p}),o=new createjs.DOMElement("causes2_coffee_overlay").set({x:326/p,y:90/p,scaleX:.4/p,scaleY:.4/p}),i=new createjs.Bitmap(V.getResult("comic")).set({x:150,y:300,scaleX:.8,scaleY:.7}),r=new createjs.Bitmap(V.getResult("coffeegraphic")).set({x:650,y:300,scaleX:.7,scaleY:.7}),l=new createjs.Text("In the concept map, if you select “cause” for the type of relationship, you will be asked to pick another concept that explains the relationship.","bold 18px Arial","#000").set({x:150,y:600,lineHeight:25,lineWidth:1e3}),s=xe();s.on("click",(function(){K(a),K(o),Pe()}));let c=Te(),u=0;c.on("click",e=>{0===u?(y.addChild(n),y.update()):1===u?(y.addChild(a,i),y.update(),J(a)):2===u?(y.addChild(o,r),y.update(),J(o)):3===u?(y.addChild(l),y.update()):4===u&&(K(a),K(o),Fe()),u++}),y.addChild(e,t,s,c),y.update()},corr1:function(){y.removeAllChildren();let e=new createjs.Text("Types of Relationships for Hypotheses","bold 24px Arial","#000").set({x:600,y:40,textAlign:"center"}),t=new createjs.Text("(3) Correlation: A relationship between two variables where both variables increase (or decrease) together, or one increases as the other decreases. But, these variables might not directly affect each other.","24px Arial","#000").set({x:600,y:90,textAlign:"center",lineWidth:1e3,lineHeight:30}),n=new createjs.Text("For example, let’s say you found that there is a relationship between how often students eat pizza and their grades in school.","18px Arial","#000").set({x:130,y:200,lineHeight:25,lineWidth:460}),a=new createjs.Bitmap(V.getResult("correlation")).set({x:170,y:280,scaleX:.4,scaleY:.4}),o=new createjs.Bitmap(V.getResult("graph1")).set({x:220,y:400,scaleX:.4,scaleY:.4}),i=new createjs.Text("If you don’t know why/how eating pizza could directly affect grades, then you would call this relationship a “correlation”.","18px Arial","#000").set({x:130,y:600,lineHeight:25,lineWidth:460}),r=new createjs.Text("Or, you might find a relationship between the amount of ice cream people buy and how often people go swimming.","18px Arial","#000").set({x:630,y:200,lineHeight:25,lineWidth:460}),l=new createjs.Bitmap(V.getResult("IceCreamSwimming")).set({x:680,y:280,scaleX:.5,scaleY:.5}),s=new createjs.Bitmap(V.getResult("graph2")).set({x:710,y:400,scaleX:.4,scaleY:.4}),c=new createjs.Text("If you don't know why/how ice cream sales directly affects how often people go swimming, then you'd call this relationship a correlation.","18px Arial","#000").set({x:630,y:600,lineHeight:25,lineWidth:460}),u=xe();u.on("click",Pe);let h=Te(),d=0;h.on("click",e=>{0===d?(y.addChild(n,a,o),y.update()):1===d?(y.addChild(i),y.update()):2===d?(y.addChild(r,l,s),y.update()):3===d?(y.addChild(c),y.update()):4===d&&Fe(),d++}),y.addChild(e,t,u,h),y.update()},corr2:function(){y.removeAllChildren();let e=new createjs.Text("Types of Relationships for Hypotheses","bold 24px Arial","#000").set({x:600,y:40,textAlign:"center"}),t=new createjs.Text("(3) Correlation: Just because two things are correlated does not mean that one caused the other. There may be other reasons for two variables to change together. For example, both variables might be caused by a third variable.","24px Arial","#000").set({x:600,y:90,textAlign:"center",lineWidth:1e3,lineHeight:30}),n=new createjs.Text("For example, a third variable, how often they study, could cause them to eat more pizza and also cause them to get better grades!","18px Arial","#000").set({x:110,y:230,lineHeight:25,lineWidth:460}),a=new createjs.Text("Or, a third variable, the temperature, could cause people to eat more ice cream and also cause people to want to go swimming to cool off.","18px Arial","#000").set({x:650,y:230,lineHeight:25,lineWidth:460}),o=new createjs.Bitmap(V.getResult("causation_correlation")).set({x:90,y:300,scaleX:.35,scaleY:.35}),i=new createjs.Bitmap(V.getResult("Picture_SunTempIcecream")).set({x:610,y:300,scaleX:.35,scaleY:.35}),r=xe();r.on("click",Pe);let l=Te(),s=0;l.on("click",e=>{0==s?(y.addChild(n,o),y.update()):1==s?(y.addChild(a,i),y.update()):2==s&&Fe(),s++}),y.addChild(e,t,r,l),y.update()},quizPage:function(){const e=["Correlation","Definition","Causes","Definition"];y.removeAllChildren();let t=!1,n=new createjs.Text("Check your understanding!","bold 24px Arial","#000").set({x:600,y:20,textAlign:"center"}),a=new createjs.Text("For each phrase below, as one concept (underlined) increases, the other (underlined) concept may increase or decrease. Select the type of relationship that best describes the following pairs of concepts:","24px Arial","#000").set({x:150,y:100,lineWidth:900,lineHeight:30}),o=new createjs.DOMElement("quiz_overlay").set({x:100/p,y:100/p,scaleX:.4/p,scaleY:.4/p}),i=new createjs.DOMElement("quiz_questions_overlay").set({x:450/p,y:106/p,scaleX:.4/p,scaleY:.4/p}),r=document.getElementsByClassName("quiz_questions"),l=xe(),s=Te();function c(){K(o),K(i);for(let e of r)e.removeEventListener("change",u)}function u(e){e.target.setCustomValidity(""),e.target.style.color=""}l.on("click",e=>{c(),Pe()});for(let e of r)e.addEventListener("change",u);s.on("click",n=>{if(t)c(),Fe();else{for(let t=0;t<r.length;t++)r[t].value!=e[t]?r[t].setCustomValidity("Wrong Answer"):(r[t].setCustomValidity(""),r[t].style.color="green");i.htmlElement.reportValidity()&&(m.show("Your answers are all correct. Click Next again to move on."),t=!0)}}),y.addChild(n,a,o,i,l,s),y.update(),J(o),J(i)},instructionPage:function(){y.removeAllChildren();let e=new createjs.Text("Concept Map Activity Instructions","bold 22px Arial","#000").set({x:600,y:23.75,textAlign:"center"}),t=new createjs.DOMElement("instruction_video_overlay").set({x:80/p,y:36/p,scaleX:.44/p,scaleY:.44/p}),n=new createjs.Text('Please watch the video above for a brief tutorial. We recommend you watch the video in full screen.\n\nFrom the Concept Map page, you can always click the back button to return to this video. That page also contains a "Show Help" button which will display a popup summarizing these instructions.',"16px Arial","#000").set({x:600,y:637.5,textAlign:"center",lineWidth:800}),a=xe();a.on("click",(function(){K(t),Pe()}));let o=Te();o.on("click",(function(){console.log("next button clicked"),K(t),Fe()})),y.addChild(e,t,n,a,o),y.update(),J(t)},backToYourRQ:function(){y.removeAllChildren();let e=new createjs.Bitmap(V.getResult("TeacherPointing")).set({x:50,y:50}),t=new createjs.Text("Now that you’ve learned about the different ways that concepts can be related in your concept map, let’s go back to your original research question...","22px Arial","#000").set({x:600,y:175,textAlign:"center",lineHeight:35,lineWidth:700}),n=new createjs.Text(W(),"bold 22px Arial","#000").set({x:600,y:300,textAlign:"center",lineHeight:35,lineWidth:700}),a=xe();a.on("click",e=>Pe());let o=Te();o.on("click",e=>Fe()),y.addChild(e,t,n,a,o),y.update()},predictionPage1:q,graphPage:function(){y.removeAllChildren();let e="increase"===P?"increase":"decrease",t=new createjs.Text("You predicted that as "+S.toLowerCase()+" increases, the "+D.toLowerCase()+" will "+e+".","22px Arial","#000").set({x:600,y:75,textAlign:"center",lineWidth:700,lineHeight:35}),n=Y(e);n.set({x:400,y:150});let a=new createjs.Text("Your prediction is represented as: ","22px Arial","#000").set({x:600,y:480,textAlign:"center",lineWidth:700,lineHeight:35}),o=ge(210,600,te(S),"increase",!1),i=ge(990,600,te(E),e,!0),r=Ce(o.x+60,o.y,i.x-60,i.y),l=xe();l.on("click",e=>Pe());let s=0,c=Te();c.on("click",(function(e){0===s?y.addChild(a,o,i,r):1===s&&Fe(),s++})),y.addChild(t,n,l,c),y.update()},notePadPage:function(){y.removeAllChildren();let e=(new createjs.Container).set({x:0,y:0}),t=new createjs.Text("Direction:","bold 22px Arial","#FFF").set({x:25,y:10}),n=new createjs.Text("Before you make your concept map, please take a few minutes to write a detailed explanation of how you think "+S.toLowerCase()+" affects the "+D.toLowerCase()+". You can use some of the concepts listed below, which you can also use in your concept map.","22px Arial","#FFF").set({x:140,y:10,textAlign:"left",lineHeight:24,lineWidth:1030}),a=n.getMeasuredHeight()+20,o=new createjs.Shape;o.graphics.setStrokeStyle(1).beginStroke("#2858a9").beginFill("#2858a9").drawRect(0,0,1180,a),e.addChild(o,t,n);let i=new createjs.Text("The important thing is that your hypothesis makes sense to you. You can come back to this page later to make improvements to your hypothesis.","22px Arial","#000").set({x:140,y:100,textAlign:"left",lineHeight:24,lineWidth:1030}),r=new createjs.DOMElement("notepad_page_lhs_overlay").set({x:4/p,y:76/p,scaleX:.4/p,scaleY:.4/p});document.getElementById("notepad_rq_body").innerText=W();let l=document.getElementById("toggle_rq_body");document.getElementById("notepad_pred_body").innerHTML="As "+S.toLowerCase()+" <i>(independent variable)</i> increases, the "+D.toLowerCase()+" <i>(dependent variable)</i> will "+P+".";let s=document.getElementById("toggle_pred_body");!function(e){e.innerHTML="";let t=j.map(e=>z(e));for(let n of t){let t=document.createElement("li");t.innerHTML=n,e.appendChild(t)}}(document.getElementById("concepts_list"));let c=document.getElementById("toggle_concepts_body"),u=new createjs.DOMElement("notepad_overlay").set({x:2/p*110,y:2/p*43,scaleX:2/p*.2,scaleY:2/p*.2,name:"notepad"}),h=document.getElementById("notepad_notes"),d=xe(),f=Te();function g(e){const t=e.querySelector(".toggler"),n=document.getElementById(e.dataset.target);return function(a){n.classList.toggle("invisible"),e.classList.toggle("collapsed"),t.classList.toggle("collapsed")}}const b=g(l);l.addEventListener("click",b);const w=g(s);s.addEventListener("click",w);const x=g(c);function T(){l.removeEventListener("click",b),s.removeEventListener("click",w),c.removeEventListener("click",x),K(r),K(u)}c.addEventListener("click",x),d.on("click",(function(){T(),Pe()})),f.on("click",(function(){!function(){let e=!0;return ce(h.innerHTML).length<10&&(e=!1),e}()?m.show("Please use at least 10 words in your hypothesis"):(T(),Fe())})),y.addChild(e,i,r,u,d,f),J(r),J(u),y.update(),setTimeout((function(){h.focus()}),0)},initialConceptMap:function(){Q("initial"),ee("initial",O)},initialConceptMapPlaceholder:function(){y.removeAllChildren();let e=new createjs.Bitmap(V.getResult("cptMapPlaceholder")).set({x:50,y:20,scaleX:.2,scaleY:.2}),t=xe();t.on("click",e=>Pe());let n=Te();n.on("click",e=>Fe()),y.addChild(e,t,n)},biDirInstructionPage1:function(){y.removeAllChildren();let e=O?"decrease":"increase",t=new createjs.Bitmap(V.getResult("TeacherPointing")).set({x:50,y:50}),n=new createjs.Text("Now, let's say that another student made a prediction in the opposite direction from your prediction...","22px Arial","#000").set({x:600,y:150,textAlign:"center",lineWidth:700,lineHeight:35}),a=Y(e);a.set({x:400,y:250});let o=xe();o.on("click",e=>Pe());let i=Te();i.on("click",e=>Fe()),y.addChild(t,n,a,o,i),y.update()},biDirInstructionPage2:function(){y.removeAllChildren();let e=O?"decrease":"increase",t=new createjs.Bitmap(V.getResult("TeacherPointing")).set({x:50,y:50}),n=new createjs.Text("They predicted that as "+S.toLowerCase()+" increases, the "+D.toLowerCase()+" would "+e+".","22px Arial","#000").set({x:600,y:150,textAlign:"center",lineWidth:700,lineHeight:35}),a=Y(e);a.set({x:400,y:250});let o=xe();o.on("click",e=>Pe());let i=Te();i.on("click",e=>Fe()),y.addChild(t,n,a,o,i),y.update()},biDirInstructionPage3:function(){y.removeAllChildren();let e=O?"decrease":"increase",t=new createjs.Bitmap(V.getResult("TeacherPointing")).set({x:50,y:50}),n=new createjs.Text("Think about how this prediction might be true for a minute or two.","22px Arial","#000").set({x:600,y:150,textAlign:"center",lineWidth:700,lineHeight:35}),a=new createjs.Text("Then, try to set up a new hypothesis for this new prediction.","22px Arial","#000").set({x:600,y:200,textAlign:"center",lineWidth:700,lineHeight:35}),o=Y(e);o.set({x:400,y:250});let i=xe();i.on("click",e=>Pe());let r=Te();r.on("click",e=>Fe()),y.addChild(t,n,a,o,i,r),y.update()},oppositeDirectionConceptMap:function(){Q("opposite"),ee("opposite","increase"===O?"decrease":increase)},brmPage:X,predictionPage2:function(){y.removeAllChildren();let e,t=null!==P,n=new createjs.Text("Make Your General Prediction","bold 24px Arial","#000").set({x:600,y:20,textAlign:"center"}),a=new createjs.Text("What do you think now that you've finished your research?","bold 22px Arial","#000").set({x:600,y:93.75,textAlign:"center"}),o=new createjs.Text("As "+S.toLowerCase()+" increases, what will happen to the "+D.toLowerCase()+"?","20px Arial","#000").set({x:600,y:a.y+60,textAlign:"center",lineWidth:800,lineHeight:30}),i=new createjs.Text("Increase","20px Arial","#000").set({x:600,y:o.y+120,textAlign:"center"}),r=new createjs.Text("Decrease","20px Arial","#000").set({x:600,y:i.y+30,textAlign:"center"});function l(){i.color="#5588EE",r.color="#000"}function s(){i.color="#000",r.color="#5588EE"}N?m.show("You have already saved your hypothesis and cannot change your prediction."):(de(i),i.on("click",t=>{l(),e="increase"}),de(r),r.on("click",t=>{s(),e="decrease"}));t&&(e=P,"increase"===P?l():s());let c=xe();c.on("click",e=>Pe());let u=Te();u.on("click",t=>{void 0===e?m.show('Please select either "Increase" or "Decrease".'):(P=e,H("secondPrediction",P).then(()=>{F||(F=!0,_="You have already saved your second prediction."),Fe()}).catch((function(e){console.error(e)})))}),y.addChild(n,a,o,i,r,c,u),y.update()},finalConceptMap:function(){Q("final"),ee("final",P)},completePage:function(){getEleById("completion-overlay").style.display="block",f.saveValue("currTutorNdx",2).catch((function(e){console.error(e)}))}};function W(){return"Does "+S.toLowerCase()+" affect the "+D.toLowerCase()+"?"}function q(){y.removeAllChildren();let e,t=new createjs.Text("Make your prediction:","bold 22px Arial","#000").set({x:600,y:93.75,textAlign:"center"}),n=new createjs.Text("As "+S.toLowerCase()+" increases, what will happen to the "+D.toLowerCase()+"?","20px Arial","#000").set({x:600,textAlign:"center",lineWidth:800,lineHeight:30});n.y=t.y+40;let a=new createjs.Text("Increase","20px Arial","#000").set({x:600,textAlign:"center"});a.y=n.y+150;let o=new createjs.Text("Decrease","20px Arial","#000").set({x:600,textAlign:"center"});o.y=a.y+30,firstPredictionLocked?m.show(firstPredictionLockedReason+" You cannot change your prediction."):(de(a),a.on("click",t=>{a.color="#5588EE",o.color="#000",e=!0}),de(o),o.on("click",t=>{a.color="#000",o.color="#5588EE",e=!1})),firstPredictionSaved&&(e=O,O?(a.color="#5588EE",o.color="#000"):(a.color="#000",o.color="#5588EE"));let i=xe();i.on("click",e=>Pe());let r=Te();r.on("click",t=>{void 0===e?m.show('Please select either "Increase" or "Decrease".'):(O=e,H("firstPrediction",O).then(()=>{firstPredictionSaved=!0,Fe()}).catch((function(e){console.error(e)})))}),y.addChild(t,n,a,o,i,r),y.update()}function Y(e){let t;return t="increase"===e?new createjs.Bitmap(V.getResult("Crys_increases")).set({scaleX:.4,scaleY:.4}):new createjs.Bitmap(V.getResult("Crys_decreases")).set({scaleX:.5,scaleY:.5}),t}function X(){y.removeAllChildren();let e=!1,t=new createjs.Text('Click the "Go to Background Research website" button to go to the Background Research Module. The Background Research Module is where you will be conducting your research. There is no time limit to this task. When you are finished with your research, **come back to this page (the "ISP Tutor" tab)**. Then click "Next" below to move on to the next page, where you will make your final hypothesis.',"24px Arial","#000").set({x:600,y:100,textAlign:"center",lineWidth:800,lineHeight:30}),n=function(e,t,n,a,o,i,r){let l=new createjs.Shape,s=o,c=i;l.graphics.beginFill(a).drawRoundRect(0,0,s,c,10),""!==r&&(r+=" ");let u=new createjs.Text(n,r+"32px Arial","#FFFFFF").set({x:s/2,y:c/2-25,textAlign:"center",textBaseline:"bottom"}),h=new createjs.Container;return h.x=e-s/2,h.y=t-c/2,h.addChild(l,u),h.cursor="pointer",h.mouseChildren=!1,h.on("mouseover",ne),h.on("mouseout",ne),h}(600,425,"Go to\nBackground\nResearch\nwebsite","#3769C2",240,200,"bold");n.on("click",t=>{open(window.location.origin+"/brm/home/index.html","_blank"),localStorage.setItem("isptutor_brmStartTime",Date.now()),localStorage.setItem("isptutor_rq",W()),setTimeout(()=>{e=!0,o.enable()},2e4)});let a=xe();a.on("click",e=>Pe());let o=Te();o.on("click",t=>{e?Fe():(m.show("Please click on the 'Go to Background Research website' button"),o.disable())}),y.addChild(t,n,a,o),y.update()}function Q(e){I&&I===e||(I=e,T=[],R=[],M=[])}function z(e){const t=["and","from","in","of","on","the"];return e.split(" ").map(e=>{if(t.includes(e.toLowerCase()))return e.toLowerCase();return e[0].toUpperCase()+e.slice(1)}).join(" ")}function G(){for(let e of R)y.addChild(e);for(let e of M)y.addChild(e)}function K(e){e.htmlElement.style.display="none"}function J(e){e.htmlElement.style.display="block"}function $(e){let t=R.map(e=>e.text);for(let n of e.querySelectorAll("option"))""!==n.value&&(t.includes(n.value)?n.classList.add("hidden"):n.classList.remove("hidden"))}function Z(e,t){R=[],M=[],ivBubble=ge(210,600,te(S),"increase",!1),dvBubble=ge(990,600,te(E),t,!0),arrow=Ce(ivBubble.x+60,ivBubble.y,dvBubble.x-60,dvBubble.y),R.push(ivBubble),R.push(dvBubble),M.push(arrow);let n=e.concepts.filter(e=>!1===e.isFixed);console.log("nonFixed bubs",n),n.forEach(e=>{let t=pe(e.x,e.y,e.text,e.direction);R.push(t)}),e.arrows.forEach(e=>{let t=R.filter(t=>t.text===e.from),n=R.filter(t=>t.text===e.to);if(1!==t.length||1!==n.length)console.log("fromBubs, toBubs",t,n);else{let a=t[0].outConnector,o=n[0].inConnector;if(a&&o){let[t,n]=function(e){let t,n;e.parent.isFixed?(t=e.parent.x,n=e.parent.y-50):(t=e.parent.x+60,n=e.parent.y);return[t,n]}(a),[i,r]=function(e){let t,n;e.parent.isFixed?(t=e.parent.x,n=e.parent.y-50):(t=e.parent.x-60,n=e.parent.y);return[t,n]}(o),l=ve(t,n,i,r,e.label);o.arrow=l,a.arrow=l,M.push(l)}else console.log("oConn, iConn",a,o)}}),console.log(R),console.log(M)}function ee(e,t){y.removeAllChildren();let n,a,o,i=!1,r=new createjs.Shape;r.graphics.setStrokeStyle(1).beginStroke("#FFF").beginFill("#FFF").drawRect(0,0,1200,750),y.addChild(r);let l=new createjs.Shape;l.graphics.setStrokeStyle(1).beginStroke("#000").beginFill("#000").drawRect(0,0,1200,750),l.alpha=.02,l.mouseEnabled=!0;let s=new createjs.Bitmap(V.getResult("lightbulb")).set({x:10,y:10,scaleX:.5,scaleY:.5}),c=new createjs.Text("NOTE: ONLY include the concepts which you think are MOST closely related to each other in your concept map.\nYou may only need to add one or two concepts to explain the relationship between the independent and dependent variables.","16px Arial","#000").set({x:80,y:10,textAlign:"left",lineHeight:25}),u=function(e,t,n,a="#136bfb"){let o=new createjs.Text(n,"bold 16px Arial","#FFFFFF").set({y:20,textAlign:"center",textBaseline:"middle"}),i=Math.max(80,o.getMeasuredWidth()+10);o.x=i/2;let r=new createjs.Shape;r.graphics.beginFill(a).drawRoundRect(0,0,i,40,10);let l=new createjs.Container;return l.x=e-i/2,l.y=t-20,l.name="button",l.addChild(r,o),l.cursor="pointer",l.mouseChildren=!1,l.on("mouseover",ne),l.on("mouseout",ne),l.disable=()=>{l.alpha=.5,l.mouseEnabled=!1},l.enable=()=>{l.alpha=1,l.mouseEnabled=!0},l}(1060,35," Show Help ","#136bfb");let h=document.getElementById("concepts_menu"),d=new createjs.DOMElement("concepts_menu_overlay").set({x:200/p,y:40/p,scaleX:.4/p,scaleY:.4/p}),g=new createjs.DOMElement("combined_cpt_map_help").set({x:140/p,y:60/p,scaleX:.4/p,scaleY:.4/p}),b={x:180/p,y:120/p,scaleX:.4/p,scaleY:.4/p},w=new createjs.DOMElement("save_concept_map_warning").set(b),x=new createjs.DOMElement("notepad_paste").set(b),A=new createjs.DOMElement("draw_cpt_map").set(b),C=new createjs.DOMElement("completion_overlay").set(b),v=document.getElementById("dismiss_cpt_map_help"),k=document.getElementById("cpt_map_help_contents"),D=document.getElementById("dismiss_notepad_paste"),F=document.getElementById("dismiss_draw_cpt_map"),N=document.getElementById("cpt_map_cancel_save"),I=document.getElementById("cpt_map_save"),B=xe(),_=Te();function H(){R.forEach(e=>e.disable()),M.forEach(e=>e.disable()),h.setAttribute("disabled",!0),_.disable(),B.disable(),u.disable(),y.update()}function L(e){H(),y.addChild(l),y.update(),J(e)}function U(e){K(e),R.forEach(e=>e.enable()),M.forEach(e=>e.enable()),h.removeAttribute("disabled"),_.enable(),B.enable(),u.enable(),y.update(),y.removeChild(l),y.update()}function W(){U(g)}function q(){let e=document.getElementById("notepad_notes"),t=document.getElementById("current_hypo_text"),n=ue(e.innerHTML);var a;t.innerText=(a=40,n.replace(new RegExp(`(?![^\\n]{1,${a}}$)([^\\n]{1,${a}})\\s`,"g"),"$1\n")),L(x)}function Y(){U(w)}function X(e){let t=e.target.value,n=pe(600+15*(R.length-2),375+15*(R.length-2),t,"none");n.idx=j.indexOf(t),T.push({action:"NODE_CREATE",object:j[n.idx],index:n.idx,info:"N/A",timestamp:(new Date).toLocaleDateString()}),n.closeButton.on("click",e=>{for(let e of n.children)"inConnector"!==e.name&&"outConnector"!==e.name||Se(e.arrow);y.removeChild(n),T.push({action:"NODE_DELETE",object:j[n.idx],index:n.idx,info:"N/A",timestamp:(new Date).toLocaleString()});let t=R.find(e=>e===n);t&&(R=R.filter(e=>e!==t),$(h))}),R.push(n),$(h),h.value="",y.addChild(n)}function Q(){Y(),function(e,t){let n,a,o={};"initial"===t?(n="first",a=O):"opposite"===t?(n="opposite(first)",a="increase"===O?"decrease":"increase"):(n="second",a=P);let i=document.getElementById("notepad_notes").innerHTML,r=ue(i);o.currentPrediction=n,o.currentPredictionValue=a,o.notesHtml=i,o.notesText=r,o.steps=T;let l=[],s=[],c=e;for(;c;){u=c,l.push({x:u.x,y:u.y,text:u.text,direction:u.getChildByName("dirButton").direction,isFixed:u.isFixed,isDV:u.isDV});let e=c.outConnector;if(!e)break;let t=c.text,n=e.arrow,a=n.label.text,o=n.connectorOver.parent,i=o.text;s.push({from:t,to:i,label:a}),c=o}var u;o.concepts=l,o.arrows=s,f.saveJSONValue(t+"Hypo",o).then(()=>{console.log("Successfully logged hypothesis data"),m.show("Successfully logged hypothesis data."),console.log(o)}).catch(e=>{console.error("Error writing document: ",e),m.show("Error: Failed to log hypothesis data.")})}(n,e),i=!0,"initial"===e?(firstPredictionLocked=!0,firstPredictionLockedReason="You have already saved your hypothesis."):"final"===e&&(secondPredictionLocked=!0,secondPredictionLockedReason="You have already saved your hypothesis."),q()}function z(){h.removeEventListener("change",X),I.removeEventListener("click",Q),N.removeEventListener("click",Y),v.removeEventListener("click",W),K(g),K(d),K(w)}function ee(){H(),z(),y.addChild(l),J(C)}v.addEventListener("click",W),D.addEventListener("click",(function(){U(x),L(A)})),F.addEventListener("click",(function(){U(A);let e=document.createElement("a");e.style.display="none",e.download="concept_map.png",y.canvas.toBlob((function(t){e.href=URL.createObjectURL(t),e.click(),setTimeout((function(){ee()}),500)}))})),N.addEventListener("click",Y),I.addEventListener("click",Q),u.addEventListener("click",(function(e){setTimeout((function(){L(g),k.scrollTop=0}),500)})),B.on("click",(function(e){z(),Pe()})),_.on("click",(function(e){i?ee():function(e){let t=!0;if(ce(document.getElementById("notepad_notes").innerHTML).length<10)return m.show("Please go back to the previous page and make sure you have a minimum of 10 words in your written hypothesis"),!1;if(R.length<3)return m.show("Please add at least one intermediate bubble."),!1;for(let e=0;e<y.numChildren;e++){let n=y.getChildAt(e);if("bubble"===n.name){let e=n.getChildByName("dirButton"),a=!1;for(let e of n.children)if(("inConnector"===e.name||"outConnector"===e.name)&&null!=e.arrow){a=!0;break}1===e.children.length&&a&&(we(e,e.x,e.y,e.direction,"red"),t=!1)}else"arrow"===n.name&&(n.label.color="#000","Add label"===n.label.text&&(n.label.color="red",t=!1))}if(!t)return m.show("Please make sure that everything is labeled properly."),t;let n=e.outConnector;for(;null!=n;){if(null==n.arrow)return m.show("Please make sure that all of the bubbles are connected."),t=!1,t;let e=n.arrow.connectorOver.parent;n=e.outConnector}if(null===e.outConnector.arrow.connectorOver.parent.outConnector)return m.show("Please add at least one intermediate bubble."),t=!1,t;return t}(n)&&L(w)})),h.addEventListener("change",X),function(e){e.innerHTML="";let t=document.createElement("option");t.value="",t.innerText=" Select a Concept to Add ",t.setAttribute("selected",!0),t.setAttribute("disabled",!0),t.setAttribute("hidden",!0),e.appendChild(t);for(let t of j){let n=document.createElement("option");n.value=t,n.innerText=` ${t} `,e.appendChild(n)}}(h),J(d),y.addChild(s,c,u,d,B,_,g,w,x,A),y.on("stagemouseup",he),y.update(),function(e){return f.getUserData().then(t=>t[e+"Hypo"]).catch((function(e){return console.log(e),null}))}(e).then(e=>{if(null!==e)i=!0,m.show("Your hypothesis has already been saved. You can not make any changes."),Z(e,t),G(),H(),B.enable(),_.enable();else if(0===R.length)console.log(),n=ge(210,600,te(S),"increase",!1),a=ge(990,600,te(E),t,!0),o=Ce(n.x+60,n.y,a.x-60,a.y),R.push(n),R.push(a),M.push(o),y.addChild(n,a,o);else{G(),n=R.filter(e=>e.text.toLowerCase()===S.toLowerCase())[0],a=R.filter(e=>e.text.toLowerCase()===E.toLowerCase())[0];let e=a.dirButton;e.direction!==t&&(we(e,e.x,e.y,t,e.color),e.mouseEnabled=!1),$(h)}}).catch((function(e){console.error(e)}))}function te(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function ne(e){"mouseover"==e.type?(e.target.alpha=.5,C=!0):(e.target.alpha=1,C=!1)}function ae(e){"mouseover"===e.type?e.target.alpha=.5:e.target.alpha=1}function oe(e){"mouseover"===e.type?e.target.alpha=.5:e.target.alpha=1}function ie(e){x=function(e,t,n){let a=new createjs.Container;a.x=e,a.y=t;let o=Ve(0,0,"Delete",100);return o.on("click",e=>{n.connector.arrow=null,n.connectorOver.arrow=null,Se(n),T.push({action:"ARROW_DELETE",object:j[n.connector.parent.idx]+"::"+j[n.connectorOver.parent.idx],index:n.connector.parent.idx+"::"+n.connectorOver.parent.idx,info:"N/A",timestamp:(new Date).toLocaleString()})}),a.addChild(o),a}(e.stageX/b,e.stageY/b,e.target.parent),y.addChild(x),y.update()}function re(e){console.log(e.target),x=function(e,t,n){let a=new createjs.Container;a.x=e,a.y=t;let o=Ve(0,0,"Increases",100),i=Ve(0,40,"Decreases",100);return o.on("click",a=>{we(n,e,t,"increase","#FFFFFF"),T.push({action:"NODE_CHANGE_DIRECTION",object:j[n.parent.idx],index:n.parent.idx,info:"increase",timestamp:(new Date).toLocaleString()})}),i.on("click",a=>{we(n,e,t,"decrease","#FFFFFF"),T.push({action:"NODE_CHANGE_DIRECTION",object:j[n.parent.idx],index:n.parent.idx,info:"decrease",timestamp:(new Date).toLocaleString()})}),a.addChild(o,i),a}(e.stageX/b,e.stageY/b,e.target),y.addChild(x),y.update()}function le(e){x=function(e,t,n){let a=new createjs.Container;a.x=e,a.y=t;let o=Ve(0,0,"Definition",100),i=Ve(0,40,"Cause",100),r=Ve(0,80,"Correlation",100);return o.on("click",e=>Ae(n,"Definition")),i.on("click",a=>se(e,t,n)),r.on("click",e=>Ae(n,"Correlation")),a.addChild(o,i,r),a}(e.stageX/b,e.stageY/b,e.target.parent.label),y.addChild(x),y.update()}function se(e,t,n){x=function(e,t,n){let a=new createjs.Container;a.x=e,a.y=t;let o=100;for(let e=0;e<B.length;e++){let t=new createjs.Text(B[e],"16px Arial","#000").getMeasuredWidth()+10;t>o&&(o=t)}for(let e=0;e<B.length;e++){let t=Ve(0,40*e,B[e],o);t.on("click",t=>Ae(n,"Cause:\n"+B[e])),a.addChild(t)}return a}(e,t,n),y.addChild(x),y.update()}function ce(e){return ue(e).split(/\s+/).filter(e=>""!==e)}function ue(e){let t=e.toString();return t=t.replace(/&nbsp;/g,""),t=t.replace(/<div>/g,""),t=t.replace(/<\/div>/g," "),t=t.replace(/<br>/g,"\n"),t}function he(e){y.removeChild(x),y.update()}function de(e){let t=new createjs.Shape,n=e.getBounds();t.graphics.beginFill("#000").drawRect(0,0,n.width,n.height),t.x=-1*n.width/2,t.y=0,e.hitArea=t,e.cursor="pointer",e.on("mouseover",ne),e.on("mouseout",ne)}function me(e,t){let n=new createjs.Shape;return n.graphics.setStrokeStyle(2).beginStroke("#000").beginFill("#FFFFFF").drawCircle(0,0,w),n.x=e,n.y=t,n.cursor="pointer",n.name="inConnector",n.arrow=null,n.on("mouseover",oe),n.on("mouseout",oe),n.on("mousedown",e=>{m.show("Make sure that you are dragging from a black circle to a white circle.")}),n}function fe(e,t){let n=new createjs.Shape;return n.graphics.beginFill("#000").drawCircle(0,0,w),n.x=e,n.y=t,n.cursor="pointer",n.name="outConnector",n.arrow=null,n.on("mousedown",(function(e){console.log(`e.stage(x,y):(${e.stageX},${e.stageY}) stage.mouse(x,y): (${y.mouseX},${y.mouseY})`),A=ve(e.stageX/b,e.stageY/b,e.stageX/b,e.stageY/b,"Add label"),y.addChild(A);let t=y.on("stagemousemove",(function(e){ke(A,A.x,A.y,e.stageX/b,e.stageY/b,"Add label"),y.update()})),a=y.on("stagemouseup",(function(e){let o=function(e,t){let n=null,a=y.getObjectsUnderPoint(e,t).filter(e=>"inConnector"===e.name);return 1===a.length&&(n=a[0]),n}(e.stageX/b,e.stageY/b);if(y.off("stagemousemove",t),y.off("stagemouseup",a),null===o||"inConnector"!=o.name||o.parent===n.parent)Se(A),console.log("failed:"),console.log(o);else{let e=A.line;e.on("click",ie),e.on("mouseover",ne),e.on("mouseout",ne),e.cursor="pointer",Se(n.arrow),Se(o.arrow),A.connector=n,A.connectorOver=o,n.arrow=A,o.arrow=A,T.push({action:"ARROW_CREATE",object:j[n.parent.idx]+"::"+j[o.parent.idx],index:n.parent.idx+"::"+o.parent.idx,info:"N/A",timestamp:(new Date).toLocaleString()}),M.push(A)}A=null}))})),n.on("mouseover",oe),n.on("mouseout",oe),n}function pe(e,t,n,a){let o=new createjs.Shape;o.graphics.setStrokeStyle(1).beginStroke("#000").beginFill("#4286f4").drawRoundRect(0,0,120,100,10);let i=new createjs.Text(n,"16px Arial","#FFFFFF").set({x:60,lineWidth:110,textAlign:"center",textBaseline:"top"});i.y=50-i.getMeasuredHeight()/2-7;let r=function(e,t,n){let a=new createjs.Shape;a.graphics.beginFill("#000").drawCircle(0,0,10);let o=new createjs.Text("x","12px Arial","#FFF").set({x:0,y:0,textAlign:"center",textBaseline:"middle"}),i=new createjs.Container;return i.x=e,i.y=t,i.addChild(a,o),i.cursor="pointer",i.mouseChildren=!1,i.on("mouseover",ne),i.on("mouseout",ne),i}(115,0),l=be(60,78,a,"#FFFFFF",!1),s=me(0,50),c=fe(120,50),u=new createjs.Container;return u.x=e,u.y=t,u.name="bubble",u.text=n,u.isFixed=!1,u.isDV=!1,u.regX=60,u.regY=50,u.inConnector=s,u.outConnector=c,u.closeButton=r,u.addChild(o,i,l,s,c,r),u.on("pressmove",(function(e){let t=e.stageX/b,n=e.stageY/b;if(Math.abs(t-e.currentTarget.x)>60-w)return;if(Math.abs(n-e.currentTarget.y)>50-w)return;if(null!=A)return;if(C)return;e.currentTarget.x=t,e.currentTarget.y=n;let a=s.arrow,o=c.arrow;null!=a&&ke(a,a.x,a.y,t-60,n,a.label.text),null!=o&&ke(o,t+60,n,o.endX,o.endY,o.label.text),y.update()})),u.disable=()=>{u.alpha=.5,u.mouseEnabled=!1},u.enable=()=>{u.alpha=1,u.mouseEnabled=!0},u}function ge(e,t,n,a,o){let i=new createjs.Shape;i.graphics.setStrokeStyle(1).beginStroke("#000").beginFill("#99bbff").drawRoundRect(0,0,120,100,10);let r,l,s=new createjs.Text(n,"16px Arial","#FFFFFF").set({x:60,lineWidth:110,textAlign:"center",textBaseline:"top"});s.y=50-s.getMeasuredHeight()/2;let c=new createjs.Container;return o?(r=me(60,0),l=be(60,80,a,"#FFFFFF",!1),c.inConnector=r,c.outConnector=null,c.idx=-1):(r=fe(60,0),l=be(60,80,a,"#FFFFFF",!0),c.inConnector=null,c.outConnector=r,c.idx=-2),c.x=e,c.y=t,c.name="bubble",c.dirButton=l,c.text=n,c.isFixed=!0,c.isDV=o,c.regX=60,c.regY=50,c.topConnector=r,c.addChild(i,s,l,r),c.disable=()=>{c.alpha=.5,c.mouseEnabled=!1},c.enable=()=>{c.alpha=1,c.mouseEnabled=!0},c}function be(e,t,n,a,o){let i=new createjs.Container;return we(i,e,t,n,a="none"===n?"yellow":a),i.x=e,i.y=t,i.color=a,i.name="dirButton",i.mouseChildren=!1,i.direction=n,o||(i.cursor="pointer",i.on("mouseover",ne),i.on("mouseout",ne),i.on("click",re)),i}function we(e,t,n,a,o){e.removeAllChildren(),e.direction=a;if("increase"===a){let t=new createjs.Shape;t.graphics.beginFill(o).drawRect(0,0,3,10),t.x=-1.5,t.y=2.5;let n=new createjs.Shape;n.graphics.beginFill(o),n.graphics.drawPolyStar(0,0,5,3),n.rotation=270,e.addChild(t,n)}else if("decrease"===a){let t=new createjs.Shape;t.graphics.beginFill(o).drawRect(0,0,3,10),t.x=-1.5,t.y=-2.5;let n=new createjs.Shape;n.graphics.beginFill(o),n.graphics.drawPolyStar(0,0,5,3),n.y=10,n.rotation=90,e.addChild(t,n)}else if("none"===a){let t=new createjs.Text("Set Direction","bold 12px Arial",o);de(t),t.textAlign="center",e.addChild(t)}else console.error("direction may only be increase, decrease, or none")}function ye(e,t,n){let a=new createjs.Bitmap(V.getResult("orangeBtn")).set({scaleX:.5,scaleY:.5}),o=.5*a.image.height,i=new createjs.Bitmap(V.getResult("yellowBtn")).set({scaleX:.5,scaleY:.5});"right"===n&&(a.rotation=180,a.y+=o,i.rotation=180,i.y+=o);let r=(new createjs.Container).set({x:e,y:750-o-10,name:t});return r.addChild(a),r.cursor="pointer",r.mouseChildren=!1,r.mouseEnabled=!0,r.on("mouseover",e=>{r.removeAllChildren(),r.addChild(i)}),r.on("mouseout",e=>{r.removeAllChildren(),r.addChild(a)}),r.disable=()=>{r.alpha=.5,r.mouseEnabled=!1},r.enable=()=>{r.alpha=1,r.mouseEnabled=!0},r}function xe(){return ye(40,"back button","left")}function Te(){return ye(1160,"next button","right")}function Ve(e,t,n,a){let o=new createjs.Shape;o.graphics.beginStroke("#000").beginFill("#f4d041").drawRect(0,0,a,40);let i=new createjs.Text(n,"16px Arial","#000");i.x=a/2-i.getMeasuredWidth()/2,i.y=20-i.getMeasuredHeight()/2;let r=new createjs.Container;return r.x=e,r.y=t,r.addChild(o,i),r.mouseChildren=!1,r.cursor="pointer",r.on("mouseover",ae),r.on("mouseout",ae),r}function Ae(e,t){let n=e.arrow;ke(n,n.x,n.y,n.endX,n.endY,t),T.push({action:"ARROW_CHANGE_LABEL",object:j[n.connector.parent.idx]+"::"+j[n.connectorOver.parent.idx],index:n.connector.parent.idx+"::"+n.connectorOver.parent.idx,info:t.replace("\n"," "),timestamp:(new Date).toLocaleString()})}function Ce(e,t,n,a){let o=new createjs.Shape;o.x=e,o.y=t;let i=n-e,r=a-t,l=Math.sqrt(i*i+r*r);o.graphics.setStrokeStyle(3).beginStroke("#000").moveTo(0,0).lineTo(l,0);return o.graphics.beginFill("#000").drawPolyStar(l-5,0,5,3),o.rotation=180*Math.atan2(r,i)/Math.PI,o.disable=()=>{o.alpha=.5,o.mouseEnabled=!1},o.enable=()=>{o.alpha=1,o.mouseEnabled=!0},o}function ve(e,t,n,a,o){let i=new createjs.Container;i.name="arrow",i.x=e,i.y=t,i.endX=n,i.endY=a;let r=n-e,l=a-t,s=Math.sqrt(r*r+l*l),c=new createjs.Shape;if(c.graphics.clear().setStrokeStyle(3).beginStroke("#000").moveTo(0,0).lineTo(s,0),"Cause"===o.substring(0,5)){let e=5;c.graphics.beginFill("#000"),c.graphics.drawPolyStar(s-e,0,e,3)}c.rotation=180*Math.atan2(l,r)/Math.PI,i.line=c,i.addChild(c);let u=new createjs.Text(o,"12px Arial","#000");u.textAlign="center",u.arrow=i,i.label=u;let h=i.label.getBounds(),d=new createjs.Container;d.on("click",le),d.on("mouseover",ne),d.on("mouseout",ne),d.cursor="pointer";let m=(n-e)/2,f=(a-t)/2;d.x=m,d.y=f;let p=new createjs.Shape;return p.graphics.beginStroke("#000").beginFill("#FFFFE0").drawRect(0,0,h.width+10,h.height+10),p.x=-1*h.width/2-5,p.y=-5,d.mouseChildren=!1,d.name="labelBox",d.addChild(p,u),i.addChild(d),i.disable=()=>{i.alpha=.5,i.mouseEnabled=!1},i.enable=()=>{i.alpha=1,i.mouseEnabled=!0},i}function ke(e,t,n,a,o,i){e.x=t,e.y=n,e.endX=a,e.endY=o;let r=a-t,l=o-n,s=Math.sqrt(r*r+l*l),c=e.line;if(c.graphics.clear().setStrokeStyle(3).beginStroke("#000").moveTo(0,0).lineTo(s,0),"Cause"===i.substring(0,5)){let e=5;c.graphics.beginFill("#000"),c.graphics.drawPolyStar(s-e,0,e,3)}c.rotation=180*Math.atan2(l,r)/Math.PI;let u=e.getChildByName("labelBox"),h=(a-t)/2,d=(o-n)/2;u.x=h;if(u.y=d-5,e.label.text!=i){u.removeAllChildren();let t=new createjs.Text(i,"12px Arial","#000");t.arrow=e,t.textAlign="center",t.lineWidth=100,e.label=t;let n=5,a=e.label.getBounds(),o=new createjs.Shape;o.graphics.beginStroke("#000").beginFill("#FFFFE0").drawRect(0,0,a.width+2*n,a.height+2*n),o.x=-1*a.width/2-n,o.y=-n,u.mouseChildren=!1,u.addChild(o,t)}e.addChild(u)}function Se(e){null!=e&&null!=e&&(M=M.filter(t=>t!==e),y.removeChild(e))}let De,Ee;function je(){showSnackbar("invalid task")}function Oe(e){return Ee=e,f.saveValue("currHypoTaskIdx",e)}function Pe(e){let t=Ee-1;t<0?(console.error("invalid taskIdx: ",t),je()):Oe(t).then(()=>{Ne()}).catch((function(e){console.error(e)}))}function Fe(e){let t=Ee+1;t>=De.length?(console.error("invalid taskIdx: ",t),je()):Oe(t).then(()=>{Ne()}).catch((function(e){console.error(e)}))}function Ne(){let e;console.log("currHypoTask():",Ee),null==Ee||Ee<0||Ee===De.length?(console.error("currHypoTaskIdx is invalid: ",Ee),e=je):e=De[Ee],console.log(e.name),e()}function Ie(e){Ee=e.currHypoTaskIdx||0,Oe(Ee).then(()=>{let e=function(){let e=["startPage"];if(c.includes("FTR_IN_CLASS")&&e.unshift("raiseYourHand"),!c.includes("FTR_NO_DEFS")){for(let t of u)e.push(t);e.push("backToYourRQ")}if(!c.includes("FTR_DEFS_ONLY")){c.includes("FTR_INITIAL_HYP")?e.push("predictionPage1"):e.push("predictionPage2");for(let t of h)e.push(t);if(c.includes("FTR_INITIAL_HYP")&&e.push("instructionPage"),c.includes("FTR_NO_CPT_MAP")?e.push("conceptMapPlaceholder"):c.includes("FTR_INITIAL_HYP")?e.push("initialConceptMap"):e.push("finalConceptMap"),c.includes("FTR_BI_DIR"))for(let t of d)e.push(t);return e.push("completePage"),e}e.push("completePage")}();console.log("pageNames",e),De=e.map(e=>U[e]),console.log(De);let t=De.map(e=>e.name);console.log("taskNames",t),Ne()})}f=function(e){let t;switch(e){case"firestore":t=new r;break;default:t=new o}return t}("localstorage"),f.setCredentials("BOGUS_CLASSCODE","BOGUS_USER"),document.getElementById("loading_gif").classList.remove("hidden"),V=new createjs.LoadQueue,V.on("complete",L),V.loadManifest([{id:"TeacherPointing",src:"img/hypo-gr/slide_intro/TeacherPointing.jpg"},{id:"TeacherPointing2",src:"img/hypo-gr/slide_intro/TeacherPointing2.jpg"},{id:"defGraph",src:"img/hypo-gr/slide1/defGraph.png"},{id:"causeGraph",src:"img/hypo-gr/slide1/causeGraph.png"},{id:"corrGraph",src:"img/hypo-gr/slide1/corrGraph.png"},{id:"densitygraphic",src:"img/hypo-gr/slide2/densitygraphic.jpg"},{id:"coffeegraphic",src:"img/hypo-gr/slide3/coffeegraphic.jpg"},{id:"comic",src:"img/hypo-gr/slide3/comic.jpg"},{id:"correlation",src:"img/hypo-gr/slide4/correlation.png"},{id:"IceCreamSwimming",src:"img/hypo-gr/slide4/IceCreamSwimming.png"},{id:"graph1",src:"img/hypo-gr/slide4/graph1.png"},{id:"graph2",src:"img/hypo-gr/slide4/graph2.png"},{id:"causation_correlation",src:"img/hypo-gr/slide5/PizzaGradesStudy.png"},{id:"Picture_SunTempIcecream",src:"img/hypo-gr/slide5/SunTempIcecream.png"},{id:"Crys_increases",src:"img/hypo-gr/graphSlides/Crys_increases.png"},{id:"Crys_decreases",src:"img/hypo-gr/graphSlides/Crys_decreases.png"},{id:"cptMapPlaceholder",src:"img/hypo-gr/cptMapPlaceholder/cptMapPlaceholder.jpg"},{id:"defPagesCptMap",src:"img/hypo-gr/defPagesCptMap.png"},{id:"ivToDvWithArrow",src:"img/hypo-gr/iv2dvWithArrow.png"},{id:"yellowBtn",src:"img/hypo-gr/buttonyellow.png"},{id:"orangeBtn",src:"img/hypo-gr/buttonorange.png"},{id:"lightbulb",src:"img/hypo-gr/lightbulb.png"}])}]);
//# sourceMappingURL=hypo-gr.bundle.js.map